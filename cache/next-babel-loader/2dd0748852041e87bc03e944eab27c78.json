{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect } from 'react';\nimport { useRecoilValueLoadable, useRecoilState, useRecoilValue, useRecoilCallback } from 'recoil';\nimport Link from 'next/link';\nimport Header from '../components/Header';\nimport Search from '../components/Search';\nimport CatalogFavorite from '../components/CatalogFavorite';\nimport WineCard from '../components/WineCard';\nimport ButtonGroup from '../components/ButtonGroup';\nimport { favoritesState, contentQuery, deleteQuery, favoritesSortState, sortedWinesState } from '../components/Favorites/favoritesStore';\nimport { parseImageSrc, getWineInfo, sortingButtons } from '../components/Catalog/utils';\nimport useLocalStorage from '../utils/useLocalStorage';\n\nvar Favorite = function Favorite() {\n  var _useLocalStorage = useLocalStorage('accessToken'),\n      _useLocalStorage2 = _slicedToArray(_useLocalStorage, 1),\n      accessToken = _useLocalStorage2[0];\n\n  var _useRecoilState = useRecoilState(favoritesState),\n      _useRecoilState2 = _slicedToArray(_useRecoilState, 2),\n      setFavorites = _useRecoilState2[1];\n\n  var sortedWine = useRecoilValue(sortedWinesState);\n\n  var _useRecoilState3 = useRecoilState(favoritesSortState),\n      _useRecoilState4 = _slicedToArray(_useRecoilState3, 2),\n      favoritesSort = _useRecoilState4[0],\n      setFavoritesSort = _useRecoilState4[1];\n\n  var contentQueryLoadable = useRecoilValueLoadable(contentQuery(accessToken));\n  var clearFavorites = useRecoilCallback(function (_ref) {\n    var snapshot = _ref.snapshot;\n    return /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return snapshot.getPromise(deleteQuery(accessToken));\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n  });\n  useEffect(function () {\n    if (contentQueryLoadable.state === 'hasValue') {\n      setFavorites(function () {\n        return contentQueryLoadable.contents;\n      });\n    }\n  }, [contentQueryLoadable.contents, setFavorites, contentQueryLoadable.state]);\n  return __jsx(\"div\", {\n    className: \"jsx-693526820\" + \" \" + 'wrapper'\n  }, __jsx(Header, null), __jsx(Search, null), __jsx(\"div\", {\n    className: \"jsx-693526820\" + \" \" + 'content'\n  }, __jsx(ButtonGroup, {\n    title: \"\\u0421\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u043E\",\n    activeButton: favoritesSort,\n    buttons: sortingButtons,\n    onChange: function onChange(event) {\n      return setFavoritesSort(event.currentTarget.value);\n    }\n  }), __jsx(\"div\", {\n    className: \"jsx-693526820\"\n  }, __jsx(\"button\", {\n    type: \"button\",\n    onClick: function onClick() {\n      return clearFavorites();\n    },\n    className: \"jsx-693526820\" + \" \" + 'buttonClear'\n  }, __jsx(\"text\", {\n    className: \"jsx-693526820\" + \" \" + 'textBtn'\n  }, \"\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C \\u0438\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435?\"))), __jsx(CatalogFavorite, null, sortedWine && sortedWine.length > 0 ? sortedWine.map(function (wine) {\n    return __jsx(WineCard, {\n      key: wine.wine_position_id,\n      wineId: wine.wine_position_id,\n      imageSrc: parseImageSrc(wine.image),\n      info: getWineInfo(wine),\n      isLiked: \"true\",\n      color: \"3\"\n    });\n  }) : __jsx(\"div\", {\n    className: \"jsx-693526820\" + \" \" + 'emptyContainer'\n  }, __jsx(\"div\", {\n    className: \"jsx-693526820\" + \" \" + 'emptyFavorite'\n  }, __jsx(\"p\", {\n    className: \"jsx-693526820\" + \" \" + 'emptyContainerText'\n  }, \"\\u0422\\u0443\\u0442 \\u043F\\u043E\\u043A\\u0430 \\u043F\\u0443\\u0441\\u0442\\u043E, \\u043D\\u043E \\u043D\\u0430\\u0448 \\u043A\\u0430\\u0442\\u0430\\u043B\\u043E\\u0433 \\u043F\\u043E\\u043C\\u043E\\u0436\\u0435\\u0442 \\u0432\\u0430\\u043C \\u0447\\u0442\\u043E-\\u043D\\u0438\\u0431\\u0443\\u0434\\u044C \\u043D\\u0430\\u0439\\u0442\\u0438...\"), __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"a\", {\n    href: \"/#\",\n    className: \"jsx-693526820\" + \" \" + 'linkText'\n  }, \"\\u041F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438 \\u0432 \\u043A\\u0430\\u0442\\u0430\\u043B\\u043E\\u0433...\")))))), __jsx(_JSXStyle, {\n    id: \"693526820\"\n  }, [\".wrapper.jsx-693526820{max-width:1440px;padding:0 20px;margin:0 auto;}\", \".hidden.jsx-693526820{display:none;}\", \".line.jsx-693526820{border:0.1px solid;color:black;}\", \".nav.jsx-693526820{width:100%;height:62px;background-color:lightgray;margin-top:40px;margin-bottom:40px;}\", \".content.jsx-693526820{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin-top:40px;}\", \".filter.jsx-693526820{background-color:lightgray;min-width:375px;min-height:1265px;max-width:375px;max-height:1265px;}\", \".buttonClear.jsx-693526820{float:right;margin-top:-20px;background:transparent;border:none;width:200px;outline:0;}\", \".buttonCatalog.jsx-693526820{background:transparent;border:none;width:200px;outline:0;}\", \".textBtn.jsx-693526820{font-size:12px;color:grey;font-family:arial;-webkit-text-decoration-line:underline;text-decoration-line:underline;cursor:pointer;}\", \".textFavorite.jsx-693526820{font-size:18px;font-family:times new roman;font-weight:bold;}\", \".emptyFavorite.jsx-693526820{background-image:url('assets/heart-background.png');background-repeat:no-repeat;background-size:684px;background-position:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin-top:100px;width:784px;height:784px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:200px 0;gap:50px;}\", \".emptyContainer.jsx-693526820{position:absolute;left:26.67%;right:25.83%;top:39.16%;bottom:26.91%;}\", \".emptyContainerText.jsx-693526820{font-size:28px;font-family:'Times New Roman';}\", \".linkText.jsx-693526820{font-size:22px;color:#921332;font-weight:700;-webkit-text-decoration-line:underline;text-decoration-line:underline;cursor:pointer;}\", \".btnAllFavoritesContainer.jsx-693526820{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-top:147px;margin-bottom:336px;}\", \".btnAllFavorites.jsx-693526820{background:transparent;border:1px solid;border-color:#931332;border-radius:50px;width:328px;height:57px;box-sizing:border-box;outline:0;}\"]));\n};\n\nexport default Favorite;","map":null,"metadata":{},"sourceType":"module"}