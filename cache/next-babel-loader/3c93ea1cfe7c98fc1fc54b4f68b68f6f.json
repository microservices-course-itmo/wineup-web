{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { useRecoilValue } from 'recoil';\nimport Header from '../../components/Header';\nimport Search from '../../components/Search';\nimport { userState } from '../../store/GlobalRecoilWrapper/store';\nimport useLocalStorage from '../../utils/useLocalStorage';\nimport api from '../../api';\n\nconst Profile = () => {\n  const [accessToken, setAccessToken] = useLocalStorage('accessToken');\n  const [refreshToken, setRefreshToken] = useLocalStorage('refreshToken');\n  const {\n    0: currentUser,\n    1: setCurrentUser\n  } = useState(useRecoilValue(userState));\n  useEffect(() => {\n    const getUser = async () => {\n      const response = await api.getProfile(accessToken);\n\n      if (response.error === true) {\n        const [newAccessToken, newRefreshToken] = await api.refreshToken(refreshToken);\n        setAccessToken(newAccessToken);\n        setRefreshToken(newRefreshToken);\n      }\n\n      const currentUser2 = await response.profile;\n      setCurrentUser(currentUser2);\n    };\n\n    if (!currentUser) {\n      getUser().catch(console.log);\n    }\n  }, [accessToken, currentUser, refreshToken, setAccessToken, setRefreshToken]);\n  const user = currentUser ? {\n    name: currentUser.name || 'Не указано',\n    cityName: currentUser.cityId || 'Не указано',\n    phoneNumber: currentUser.phoneNumber || 'Не указано'\n  } : null;\n  return __jsx(\"div\", {\n    className: \"jsx-802898156\" + \" \" + 'wrapper'\n  }, __jsx(Header, null), __jsx(Search, null), __jsx(\"div\", {\n    className: \"jsx-802898156\" + \" \" + 'content'\n  }, user && __jsx(\"div\", {\n    className: \"jsx-802898156\" + \" \" + 'profile-wrapper'\n  }, __jsx(\"div\", {\n    className: \"jsx-802898156\" + \" \" + 'profile'\n  }, __jsx(\"div\", {\n    className: \"jsx-802898156\" + \" \" + 'icon-container'\n  }, __jsx(\"div\", {\n    className: \"jsx-802898156\" + \" \" + 'user-avatar'\n  }, __jsx(\"img\", {\n    src: \"/assets/user.svg\",\n    alt: \"user-pic\",\n    className: \"jsx-802898156\" + \" \" + 'avatar'\n  }), __jsx(\"img\", {\n    src: \"/assets/edit-icon.svg\",\n    alt: \"edit\",\n    className: \"jsx-802898156\" + \" \" + 'edit-btn'\n  }))), __jsx(\"div\", {\n    className: \"jsx-802898156\" + \" \" + 'info-container'\n  }, __jsx(\"div\", {\n    className: \"jsx-802898156\" + \" \" + 'info-list'\n  }, __jsx(\"label\", {\n    htmlFor: \"name-input\",\n    className: \"jsx-802898156\"\n  }, __jsx(\"div\", {\n    className: \"jsx-802898156\"\n  }, \"\\u0412\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\"), __jsx(\"input\", {\n    id: \"name-input\",\n    readOnly: true,\n    value: user.name,\n    className: \"jsx-802898156\"\n  })), __jsx(\"label\", {\n    htmlFor: \"city-input\",\n    className: \"jsx-802898156\"\n  }, __jsx(\"div\", {\n    className: \"jsx-802898156\"\n  }, \"\\u0413\\u043E\\u0440\\u043E\\u0434\"), __jsx(\"input\", {\n    id: \"city-input\",\n    readOnly: true,\n    value: user.cityName,\n    className: \"jsx-802898156\"\n  })), __jsx(\"label\", {\n    htmlFor: \"tel-input\",\n    className: \"jsx-802898156\"\n  }, __jsx(\"div\", {\n    className: \"jsx-802898156\"\n  }, \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\"), __jsx(\"input\", {\n    id: \"phone-input\",\n    readOnly: true,\n    value: user.phoneNumber,\n    className: \"jsx-802898156\"\n  }))))), __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"div\", {\n    className: \"jsx-802898156\" + \" \" + 'btn-footer'\n  }, __jsx(\"button\", {\n    type: \"button\",\n    className: \"jsx-802898156\" + \" \" + 'close-btn'\n  }, \"Close\")))), currentUser === 'hasError' && __jsx(\"p\", {\n    className: \"jsx-802898156\"\n  }, \"Error\")), __jsx(_JSXStyle, {\n    id: \"802898156\"\n  }, [\".wrapper.jsx-802898156{max-width:1440px;padding:0 20px;margin:0 auto;}\", \".content.jsx-802898156{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-top:40px;}\", \".profile-wrapper.jsx-802898156{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;padding:0 10%;width:100%;}\", \".profile.jsx-802898156{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}\", \".icon-container.jsx-802898156{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;margin-top:90px;margin-right:90px;}\", \".info-container.jsx-802898156{-webkit-flex-basis:60%;-ms-flex-preferred-size:60%;flex-basis:60%;}\", \".user-avatar.jsx-802898156{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;}\", \".btn-footer.jsx-802898156{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;margin-top:70px;}\", \".info-list.jsx-802898156{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;}\", \".info-list.jsx-802898156 label.jsx-802898156{margin-bottom:30px;font-size:28px;font-weight:bold;}\", \".info-list.jsx-802898156 input.jsx-802898156{width:100%;height:54px;padding:15px;font-weight:normal;font-size:22px;background-color:rgba(196,196,196,0.16);border:2px solid #9e9e9e;}\", \".info-list.jsx-802898156 label.jsx-802898156 div.jsx-802898156{margin-bottom:15px;}\", \".info-list.jsx-802898156 label.jsx-802898156:last-child{margin-bottom:0;}\", \".icon-container.jsx-802898156 .avatar.jsx-802898156{height:210px;width:210px;border-radius:50%;}\", \".edit-btn.jsx-802898156{cursor:pointer;}\", \".close-btn.jsx-802898156{background-color:transparent;color:#931332;border:1px solid #931332;border-radius:50px;font-size:18px;padding:5px 60px;cursor:pointer;}\"]));\n};\n\nexport default Profile;","map":null,"metadata":{},"sourceType":"module"}