(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1136:function(module,exports,__webpack_require__){"use strict";__webpack_require__(12),__webpack_require__(7),__webpack_require__(59),__webpack_require__(1137),__webpack_require__(46),__webpack_require__(47),__webpack_require__(1138),__webpack_require__(38),__webpack_require__(55);var _clientApi=__webpack_require__(67),_clientLogger=__webpack_require__(48),_configFilename=__webpack_require__(1139);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),_configFilename.loaders&&_configFilename.loaders.forEach((function(loader){return(0,_clientApi.addLoader)(loader,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},1139:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"parameters",(function(){return parameters}));__webpack_require__(1140);var parameters={actions:{argTypesRegex:"^on[A-Z].*"}}},1140:function(module,exports,__webpack_require__){var api=__webpack_require__(1141),content=__webpack_require__(1142);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},1142:function(module,exports,__webpack_require__){(exports=__webpack_require__(1143)(!1)).push([module.i,"/* cyrillic-ext */\n@font-face {\n  font-family: 'PT Sans';\n  font-style: normal;\n  font-weight: 400;\n  font-display: swap;\n  src: local('PT Sans'), local('PTSans-Regular'),\n    url(https://fonts.gstatic.com/s/ptsans/v12/jizaRExUiTo99u79D0-ExdGM.woff2)\n      format('woff2');\n  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F,\n    U+FE2E-FE2F;\n}\n/* cyrillic */\n@font-face {\n  font-family: 'PT Sans';\n  font-style: normal;\n  font-weight: 400;\n  font-display: swap;\n  src: local('PT Sans'), local('PTSans-Regular'),\n    url(https://fonts.gstatic.com/s/ptsans/v12/jizaRExUiTo99u79D0aExdGM.woff2)\n      format('woff2');\n  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;\n}\n/* latin-ext */\n@font-face {\n  font-family: 'PT Sans';\n  font-style: normal;\n  font-weight: 400;\n  font-display: swap;\n  src: local('PT Sans'), local('PTSans-Regular'),\n    url(https://fonts.gstatic.com/s/ptsans/v12/jizaRExUiTo99u79D0yExdGM.woff2)\n      format('woff2');\n  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB,\n    U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;\n}\n/* latin */\n@font-face {\n  font-family: 'PT Sans';\n  font-style: normal;\n  font-weight: 400;\n  font-display: swap;\n  src: local('PT Sans'), local('PTSans-Regular'),\n    url(https://fonts.gstatic.com/s/ptsans/v12/jizaRExUiTo99u79D0KExQ.woff2)\n      format('woff2');\n  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA,\n    U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215,\n    U+FEFF, U+FFFD;\n}\n/* cyrillic-ext */\n@font-face {\n  font-family: 'PT Sans';\n  font-style: normal;\n  font-weight: 700;\n  font-display: swap;\n  src: local('PT Sans Bold'), local('PTSans-Bold'),\n    url(https://fonts.gstatic.com/s/ptsans/v12/jizfRExUiTo99u79B_mh0OOtLQ0Z.woff2)\n      format('woff2');\n  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F,\n    U+FE2E-FE2F;\n}\n/* cyrillic */\n@font-face {\n  font-family: 'PT Sans';\n  font-style: normal;\n  font-weight: 700;\n  font-display: swap;\n  src: local('PT Sans Bold'), local('PTSans-Bold'),\n    url(https://fonts.gstatic.com/s/ptsans/v12/jizfRExUiTo99u79B_mh0OqtLQ0Z.woff2)\n      format('woff2');\n  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;\n}\n/* latin-ext */\n@font-face {\n  font-family: 'PT Sans';\n  font-style: normal;\n  font-weight: 700;\n  font-display: swap;\n  src: local('PT Sans Bold'), local('PTSans-Bold'),\n    url(https://fonts.gstatic.com/s/ptsans/v12/jizfRExUiTo99u79B_mh0OCtLQ0Z.woff2)\n      format('woff2');\n  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB,\n    U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;\n}\n/* latin */\n@font-face {\n  font-family: 'PT Sans';\n  font-style: normal;\n  font-weight: 700;\n  font-display: swap;\n  src: local('PT Sans Bold'), local('PTSans-Bold'),\n    url(https://fonts.gstatic.com/s/ptsans/v12/jizfRExUiTo99u79B_mh0O6tLQ.woff2)\n      format('woff2');\n  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA,\n    U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215,\n    U+FEFF, U+FFFD;\n}\n/* cyrillic */\n@font-face {\n  font-family: 'Playfair Display';\n  font-style: normal;\n  font-weight: 400;\n  font-display: swap;\n  src: url(https://fonts.gstatic.com/s/playfairdisplay/v21/nuFiD-vYSZviVYUb_rj3ij__anPXDTjYgFE_.woff2)\n    format('woff2');\n  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;\n}\n/* vietnamese */\n@font-face {\n  font-family: 'Playfair Display';\n  font-style: normal;\n  font-weight: 400;\n  font-display: swap;\n  src: url(https://fonts.gstatic.com/s/playfairdisplay/v21/nuFiD-vYSZviVYUb_rj3ij__anPXDTPYgFE_.woff2)\n    format('woff2');\n  unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1,\n    U+01AF-01B0, U+1EA0-1EF9, U+20AB;\n}\n/* latin-ext */\n@font-face {\n  font-family: 'Playfair Display';\n  font-style: normal;\n  font-weight: 400;\n  font-display: swap;\n  src: url(https://fonts.gstatic.com/s/playfairdisplay/v21/nuFiD-vYSZviVYUb_rj3ij__anPXDTLYgFE_.woff2)\n    format('woff2');\n  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB,\n    U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;\n}\n/* latin */\n@font-face {\n  font-family: 'Playfair Display';\n  font-style: normal;\n  font-weight: 400;\n  font-display: swap;\n  src: url(https://fonts.gstatic.com/s/playfairdisplay/v21/nuFiD-vYSZviVYUb_rj3ij__anPXDTzYgA.woff2)\n    format('woff2');\n  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA,\n    U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215,\n    U+FEFF, U+FFFD;\n}\n/* cyrillic */\n@font-face {\n  font-family: 'Playfair Display';\n  font-style: normal;\n  font-weight: 700;\n  font-display: swap;\n  src: url(https://fonts.gstatic.com/s/playfairdisplay/v21/nuFiD-vYSZviVYUb_rj3ij__anPXDTjYgFE_.woff2)\n    format('woff2');\n  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;\n}\n/* vietnamese */\n@font-face {\n  font-family: 'Playfair Display';\n  font-style: normal;\n  font-weight: 700;\n  font-display: swap;\n  src: url(https://fonts.gstatic.com/s/playfairdisplay/v21/nuFiD-vYSZviVYUb_rj3ij__anPXDTPYgFE_.woff2)\n    format('woff2');\n  unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1,\n    U+01AF-01B0, U+1EA0-1EF9, U+20AB;\n}\n/* latin-ext */\n@font-face {\n  font-family: 'Playfair Display';\n  font-style: normal;\n  font-weight: 700;\n  font-display: swap;\n  src: url(https://fonts.gstatic.com/s/playfairdisplay/v21/nuFiD-vYSZviVYUb_rj3ij__anPXDTLYgFE_.woff2)\n    format('woff2');\n  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB,\n    U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;\n}\n/* latin */\n@font-face {\n  font-family: 'Playfair Display';\n  font-style: normal;\n  font-weight: 700;\n  font-display: swap;\n  src: url(https://fonts.gstatic.com/s/playfairdisplay/v21/nuFiD-vYSZviVYUb_rj3ij__anPXDTzYgA.woff2)\n    format('woff2');\n  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA,\n    U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215,\n    U+FEFF, U+FFFD;\n}\n/* latin */\n@font-face {\n  font-family: 'Poller One';\n  font-style: normal;\n  font-weight: 400;\n  font-display: swap;\n  src: local('Poller One'), local('PollerOne-Regular'),\n    url(https://fonts.gstatic.com/s/pollerone/v10/ahccv82n0TN3gia5E4BuR-5RgA.woff2)\n      format('woff2');\n  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA,\n    U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215,\n    U+FEFF, U+FFFD;\n}\n/* Box sizing rules */\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\n/* Remove default padding */\nul[class],\nol[class] {\n  padding: 0;\n}\n\n/* Remove default margin */\nbody,\nh1,\nh2,\nh3,\nh4,\np,\nul[class],\nol[class],\nli,\nfigure,\nfigcaption,\nblockquote,\ndl,\ndd {\n  margin: 0;\n}\n\n/* Set core body defaults */\nbody {\n  font-family: 'PT Sans', sans-serif;\n  min-height: 100vh;\n  scroll-behavior: smooth;\n  text-rendering: optimizeSpeed;\n  line-height: 1.5;\n}\n\n/* Remove list styles on ul, ol elements with a class attribute */\nul[class],\nol[class] {\n  list-style: none;\n}\n\n/* A elements that don't have a class get default styles */\na:not([class]) {\n  -webkit-text-decoration-skip: ink;\n          text-decoration-skip-ink: auto;\n}\n\n/* Make images easier to work with */\nimg {\n  max-width: 100%;\n  display: block;\n}\n\n/* Inherit fonts for inputs and buttons */\ninput,\nbutton,\ntextarea,\nselect {\n  font: inherit;\n}\n",""]),module.exports=exports},1144:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(389).configure)([__webpack_require__(1145),__webpack_require__(1203)],module,!1)}).call(this,__webpack_require__(119)(module))},1145:function(module,exports,__webpack_require__){var map={"./404/404.stories.js":1208,"./ConfirmPhoneModal/ConfirmPhoneModal.stories.js":1163,"./CustomSwitchCheckbox/CustomSwitchCheckbox.stories.js":1174,"./ItemDescriptionCard/ItemDescriptionCard.stories.js":1209,"./ModalWrapper/ModalWrapper.stories.js":1175,"./Notification/Notification.stories.js":1176,"./NotificationTooltip/NotificationTooltip.stories.js":1195,"./Profile/Profile.stories.js":1206,"./ReviewBox/ReviewBox.stories.js":1210,"./ReviewCard/ReviewCard.stories.js":1199,"./Toast/Toast.stories.js":1200,"./WineCard/WineCard.stories.js":1211,"./WinePosition/WinePosition.stories.js":1212};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1145},1163:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"knobs",(function(){return knobs}));__webpack_require__(69),__webpack_require__(5);var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(233),_ConfirmPhoneModal__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(176);react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement;__webpack_exports__.default={title:"Confirm Phone Modal",component:_ConfirmPhoneModal__WEBPACK_IMPORTED_MODULE_4__.a};var Template=function Template(args){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_ConfirmPhoneModal__WEBPACK_IMPORTED_MODULE_4__.a,args)};Template.displayName="Template";var knobs=Template.bind({});knobs.args={onClose:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("onClose")},knobs.parameters=Object.assign({storySource:{source:"args => <ConfirmPhoneModal {...args} />"}},knobs.parameters)},1174:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"switchCheckbox",(function(){return switchCheckbox}));__webpack_require__(69),__webpack_require__(5);var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_index__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(180);react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement;__webpack_exports__.default={title:"CustomInputs",component:_index__WEBPACK_IMPORTED_MODULE_3__.a};var Template=function Template(args){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_index__WEBPACK_IMPORTED_MODULE_3__.a,args)};Template.displayName="Template";var switchCheckbox=Template.bind({});switchCheckbox.args={},switchCheckbox.parameters=Object.assign({storySource:{source:"args => <CustomSwitchCheckbox {...args} />"}},switchCheckbox.parameters)},1175:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"knobs",(function(){return knobs}));__webpack_require__(69),__webpack_require__(5);var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(233),_ModalWrapper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(179);react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement;__webpack_exports__.default={title:"Modal Wrapper",component:_ModalWrapper__WEBPACK_IMPORTED_MODULE_4__.a};var Template=function Template(args){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_ModalWrapper__WEBPACK_IMPORTED_MODULE_4__.a,args)};Template.displayName="Template";var knobs=Template.bind({});knobs.args={visible:!0,children:react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:{width:100,height:100,backgroundColor:"yellow"}},"children"),onClose:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_3__.action)("onClose")},knobs.parameters=Object.assign({storySource:{source:"args => <ModalWrapper {...args} />"}},knobs.parameters)},1176:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"winePriceUpdated",(function(){return winePriceUpdated})),__webpack_require__.d(__webpack_exports__,"notificationGeneral",(function(){return notificationGeneral}));__webpack_require__(69),__webpack_require__(1177),__webpack_require__(25),__webpack_require__(5);var react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),_Notification__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(181);react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement;__webpack_exports__.default={title:"/Notifications/Notification",component:_Notification__WEBPACK_IMPORTED_MODULE_5__.a,argTypes:{type:{description:"Тип уведомлений, может быть read или unread"},imageType:{description:"Тип изображения слева, может быть liked или wineup"},text:{description:"Текст уведомления"},time:{description:"Время создания уведомления"}}};var Template=function Template(args){return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_Notification__WEBPACK_IMPORTED_MODULE_5__.a,args)};Template.displayName="Template";var winePriceUpdated=Template.bind({}),notificationGeneral=Template.bind({});winePriceUpdated.args={isViewed:!0,type:"WINE_PRICE_UPDATED",message:"Chianti",date:Date.now()},winePriceUpdated.storyName="Wine price updated",notificationGeneral.args={isViewed:!0,type:"NOT_WINE_PRICE_UPDATED",message:"WineUp поздравляет Вас с днём рождения! Порадуйте себя специально подобранными винами по Вашим предпочтениям!",date:Date.now()},notificationGeneral.storyName="General view message",winePriceUpdated.parameters=Object.assign({storySource:{source:"args => <Notification {...args} />"}},winePriceUpdated.parameters),notificationGeneral.parameters=Object.assign({storySource:{source:"args => <Notification {...args} />"}},notificationGeneral.parameters)},1195:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"tooltip",(function(){return tooltip}));__webpack_require__(69),__webpack_require__(5);var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_index__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(182);react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement;__webpack_exports__.default={title:"NotificationTooltip",component:_index__WEBPACK_IMPORTED_MODULE_3__.a};var Template=function Template(args){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_index__WEBPACK_IMPORTED_MODULE_3__.a,args)};Template.displayName="Template";var tooltip=Template.bind({});tooltip.args={},tooltip.parameters=Object.assign({storySource:{source:"args => <NotificationTooltip {...args} />"}},tooltip.parameters)},1199:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"reviewcard",(function(){return reviewcard}));__webpack_require__(69),__webpack_require__(5);var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_ReviewCard__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(178);react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement;__webpack_exports__.default={title:"ReviewCard",component:_ReviewCard__WEBPACK_IMPORTED_MODULE_3__.a};var Template=function Template(args){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_ReviewCard__WEBPACK_IMPORTED_MODULE_3__.a,args)};Template.displayName="Template";var reviewcard=Template.bind({});reviewcard.args={logDate:"09.10.2020",logName:"Petar",stars:"4",review:"Красное, полусладкое, Красное, полусладкое, Красное, полусладкое,Красное, полусладкое, Красное, полусладкое, Красное, полусладкое, Красное, полусладкое"},reviewcard.parameters=Object.assign({storySource:{source:"args => <ReviewCard {...args} />"}},reviewcard.parameters)},1200:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"toast",(function(){return toast}));__webpack_require__(69),__webpack_require__(5);var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_Toast__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(177);react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement;__webpack_exports__.default={title:"/Toast",component:_Toast__WEBPACK_IMPORTED_MODULE_3__.a,argTypes:{type:{description:"Тип, может быть success, warning и error"}}};var Template=function Template(args){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Toast__WEBPACK_IMPORTED_MODULE_3__.a,args)};Template.displayName="Template";var toast=Template.bind({});toast.args={type:"success",text:"Вы успешно зарегистроровались в системе"},toast.storyName="Toast",toast.parameters=Object.assign({storySource:{source:"args => <Toast {...args} />"}},toast.parameters)},1203:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=1203},1206:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"profile",(function(){return profile}));__webpack_require__(69),__webpack_require__(5);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),recoil=__webpack_require__(10),regenerator=__webpack_require__(9),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(29),slicedToArray=__webpack_require__(37),style=__webpack_require__(3),style_default=__webpack_require__.n(style),next_link=(__webpack_require__(74),__webpack_require__(8),__webpack_require__(78),__webpack_require__(30),__webpack_require__(1196),__webpack_require__(20),__webpack_require__(59),__webpack_require__(88),__webpack_require__(12),__webpack_require__(136)),link_default=__webpack_require__.n(next_link),index_esm=__webpack_require__(185),store=__webpack_require__(50),api=__webpack_require__(42),useLocalStorage=__webpack_require__(91),components_Toast=__webpack_require__(177).a,GlobalRecoilWrapper_GlobalRecoilWrapper=(react_default.a.createElement,function GlobalRecoilWrapper(_ref){var children=_ref.children,_useLocalStorage=Object(useLocalStorage.a)("accessToken"),_useLocalStorage2=Object(slicedToArray.a)(_useLocalStorage,2),accessToken=_useLocalStorage2[0],setAccessToken=_useLocalStorage2[1],_useLocalStorage3=Object(useLocalStorage.a)("refreshToken"),_useLocalStorage4=Object(slicedToArray.a)(_useLocalStorage3,2),refreshToken=_useLocalStorage4[0],setRefreshToken=_useLocalStorage4[1],_useRecoilState=Object(recoil.f)(store.e),_useRecoilState2=Object(slicedToArray.a)(_useRecoilState,2),currentUser=_useRecoilState2[0],setCurrentUser=_useRecoilState2[1],_useRecoilState3=Object(recoil.f)(store.a),_useRecoilState4=Object(slicedToArray.a)(_useRecoilState3,2),error=_useRecoilState4[0],setError=_useRecoilState4[1],getUser=Object(react.useCallback)(Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){var response,_yield$api$refreshTok,_error,message,data,newCurrentUser;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,api.a.getProfile(accessToken);case 2:if((response=_context.sent).profile&&!response.error){_context.next=15;break}return _context.next=6,api.a.refreshToken(refreshToken);case 6:if(_yield$api$refreshTok=_context.sent,_error=_yield$api$refreshTok.error,message=_yield$api$refreshTok.message,data=_yield$api$refreshTok.data,!_error){_context.next=13;break}return console.error(_error,message),_context.abrupt("return");case 13:setAccessToken(data[0]),setRefreshToken(data[1]);case 15:newCurrentUser=response.profile,setCurrentUser(newCurrentUser);case 17:case"end":return _context.stop()}}),_callee)}))),[accessToken,refreshToken,setAccessToken,setCurrentUser,setRefreshToken]);return Object(react.useEffect)((function(){currentUser&&!currentUser.error||getUser().catch(console.error)}),[]),react_default.a.createElement("div",{className:"jsx-98050277 wrapper"},!!error.error&&react_default.a.createElement(components_Toast,{type:"error",text:error.message,closeCallback:function closeCallback(){return setError({error:!1,message:""})}}),children,react_default.a.createElement(style_default.a,{id:"98050277"},[".wrapper.jsx-98050277{position:relative;max-width:1440px;padding:0 20px;margin:0 auto;}"]))});GlobalRecoilWrapper_GlobalRecoilWrapper.displayName="GlobalRecoilWrapper",GlobalRecoilWrapper_GlobalRecoilWrapper.__docgenInfo={description:"",methods:[],displayName:"GlobalRecoilWrapper"};var store_GlobalRecoilWrapper_GlobalRecoilWrapper=GlobalRecoilWrapper_GlobalRecoilWrapper;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["store/GlobalRecoilWrapper/GlobalRecoilWrapper.js"]={name:"GlobalRecoilWrapper",docgenInfo:GlobalRecoilWrapper_GlobalRecoilWrapper.__docgenInfo,path:"store/GlobalRecoilWrapper/GlobalRecoilWrapper.js"});var store_GlobalRecoilWrapper=store_GlobalRecoilWrapper_GlobalRecoilWrapper,Badge_Badge=(react_default.a.createElement,function Badge(_ref){var count=_ref.count;return react_default.a.createElement(react_default.a.Fragment,null,count?react_default.a.createElement("div",{className:"jsx-226631399 container"},react_default.a.createElement("div",{className:"jsx-226631399 textContent"},count)):null,react_default.a.createElement(style_default.a,{id:"226631399"},[".container.jsx-226631399{position:relative;top:-7px;left:-10px;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#931332;border-radius:9px;height:18px;padding:1px 5px;}",".textContent.jsx-226631399{color:white;font-size:14px;font-weight:normal;font-family:'Arial',sans-serif;}"]))});Badge_Badge.__docgenInfo={description:"@param{number} count - value for badge",methods:[],displayName:"Badge"};var components_Badge_Badge=Badge_Badge;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/Badge/Badge.js"]={name:"Badge",docgenInfo:Badge_Badge.__docgenInfo,path:"components/Badge/Badge.js"});var components_Badge=components_Badge_Badge,ProfileSectionMenuItem_ProfileSectionMenuItem=(react_default.a.createElement,function ProfileSectionMenuItem(_ref){var active=_ref.active,labelText=_ref.labelText,onClick=_ref.onClick,children=_ref.children;return react_default.a.createElement("div",{className:"jsx-2319523371 "+"".concat(active?"active ":"","item")},react_default.a.createElement("div",{onClick:onClick,className:"jsx-2319523371 menuItemTitle"},labelText),children,react_default.a.createElement(style_default.a,{id:"2319523371"},[".item.jsx-2319523371{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;font-weight:bold;font-size:22px;font-family:'Playfair Display',serif;margin:20px;}",".active.jsx-2319523371{font-size:28px;}",".menuItemTitle.jsx-2319523371{margin-right:22px;cursor:pointer;}",".menuItemTitle.jsx-2319523371:hover{-webkit-text-decoration:underline;text-decoration:underline;}"]))});ProfileSectionMenuItem_ProfileSectionMenuItem.displayName="ProfileSectionMenuItem",ProfileSectionMenuItem_ProfileSectionMenuItem.__docgenInfo={description:"@param{boolean} active\n@param{string} labelText\n@param{function} onClick\n@param{Node} children",methods:[],displayName:"ProfileSectionMenuItem"};var components_ProfileSectionMenuItem_ProfileSectionMenuItem=ProfileSectionMenuItem_ProfileSectionMenuItem;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/ProfileSectionMenuItem/ProfileSectionMenuItem.js"]={name:"ProfileSectionMenuItem",docgenInfo:ProfileSectionMenuItem_ProfileSectionMenuItem.__docgenInfo,path:"components/ProfileSectionMenuItem/ProfileSectionMenuItem.js"});var components_ProfileSectionMenuItem=components_ProfileSectionMenuItem_ProfileSectionMenuItem,CustomInput_CustomInput=(react_default.a.createElement,function CustomInput(_ref){var id=_ref.id,label=_ref.label,value=_ref.value,hasError=_ref.hasError,onChange=_ref.onChange,isDisabled=_ref.isDisabled,dispatch=_ref.dispatch;return react_default.a.createElement("div",{className:"jsx-3634658359 container"},react_default.a.createElement("label",{htmlFor:id,className:"jsx-3634658359"},react_default.a.createElement("div",{className:"jsx-3634658359 labelText"},label),react_default.a.createElement("div",{className:"jsx-3634658359 inputContainer"},react_default.a.createElement("input",{id:id,autoComplete:"off",readOnly:isDisabled,disabled:isDisabled,value:value,placeholder:value?null:"Не указано",onChange:onChange,className:"jsx-3634658359 "+((hasError?"hasError":null)||"")}),react_default.a.createElement("div",{onClick:function onClick(){return dispatch({type:id})},className:"jsx-3634658359 editIcon"},react_default.a.createElement("img",{src:"assets/edit-icon.svg",alt:"Edit",className:"jsx-3634658359"})))),react_default.a.createElement(style_default.a,{id:"3634658359"},[".inputContainer.jsx-3634658359{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".editIcon.jsx-3634658359{margin-left:-40px;cursor:pointer;}",".labelText.jsx-3634658359{margin:35px 0 15px;font-size:24px;color:#818181;}","input.jsx-3634658359{width:100%;height:54px;padding:15px;font-weight:normal;font-size:22px;background-color:rgba(196,196,196,0.16);border:2px solid #9e9e9e;}","input.hasError.jsx-3634658359{border:2px solid red;background-color:lightpink;}"]))});CustomInput_CustomInput.displayName="CustomInput",CustomInput_CustomInput.__docgenInfo={description:"@param{string} id - id поля\n@param{string} label - label для поля\n@param{string} value - Значение поля\n@param{boolean} hasError - Ошибка при валидации\n@param{function} onChange - Функция-обработчик изменений поля",methods:[],displayName:"CustomInput"};var components_CustomInput_CustomInput=CustomInput_CustomInput;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/CustomInput/CustomInput.js"]={name:"CustomInput",docgenInfo:CustomInput_CustomInput.__docgenInfo,path:"components/CustomInput/CustomInput.js"});var components_CustomInput=components_CustomInput_CustomInput,options=(__webpack_require__(22),__webpack_require__(19),react_default.a.createElement,[{id:1,value:"Москва",selected:!0},{id:2,value:"Санкт-Петербург",selected:!1}]),prefix=Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:".",NEXT_PUBLIC_API:"http://77.234.215.138:18080",NEXT_PUBLIC_ACCESS_TOKEN:"123",FIREBASE_API_KEY:"AIzaSyCExaLzKWdhhr_1IRPe1NIFdR7Uor12LTI",FIREBASE_AUTH_DOMAIN:"testfire-1bc2f.firebaseapp.com",FIREBASE_DB_URL:"https://testfire-1bc2f.firebaseio.com",FIREBASE_PROJECT_ID:"testfire-1bc2f",FIREBASE_STORAGE_BUCKET:"testfire-1bc2f.appspot.com",FIREBASE_MESSAGING_SENDER_KEY:"243423113529",FIREBASE_APP_ID:"1:243423113529:web:d363f5aa8bf5ca297bf8e8"}).NEXT_PUBLIC_BASE_PATH||"",Dropdown_Dropdown=function Dropdown(_ref){var id=_ref.id,width=_ref.width,selectedCity=_ref.selectedCity,backgroundColor=_ref.backgroundColor,margin=_ref.margin,colorLabel=_ref.colorLabel,color=_ref.color,border=_ref.border,marginLabel=_ref.marginLabel,onChange=_ref.onChange,_useState=Object(react.useState)(!1),isDropdownVisible=_useState[0],setIsDropdownVisible=_useState[1],toggleIsDropdownVisible=function toggleIsDropdownVisible(){setIsDropdownVisible(!isDropdownVisible)};return react_default.a.createElement("div",{className:style_default.a.dynamic([["369484076",[color,backgroundColor,width,border,isDropdownVisible?"5px 5px 0 0":"5px",margin,width,marginLabel,colorLabel,isDropdownVisible?"flex":"none",width,border,border,border]]])},react_default.a.createElement("div",{className:style_default.a.dynamic([["369484076",[color,backgroundColor,width,border,isDropdownVisible?"5px 5px 0 0":"5px",margin,width,marginLabel,colorLabel,isDropdownVisible?"flex":"none",width,border,border,border]]])+" inputForm"},react_default.a.createElement("div",{className:style_default.a.dynamic([["369484076",[color,backgroundColor,width,border,isDropdownVisible?"5px 5px 0 0":"5px",margin,width,marginLabel,colorLabel,isDropdownVisible?"flex":"none",width,border,border,border]]])+" formName"},"Город"),react_default.a.createElement("div",{className:style_default.a.dynamic([["369484076",[color,backgroundColor,width,border,isDropdownVisible?"5px 5px 0 0":"5px",margin,width,marginLabel,colorLabel,isDropdownVisible?"flex":"none",width,border,border,border]]])+" wrapper"},react_default.a.createElement("input",{value:selectedCity.value,autoComplete:"off",placeholder:selectedCity.value,onClick:toggleIsDropdownVisible,readOnly:!0,className:style_default.a.dynamic([["369484076",[color,backgroundColor,width,border,isDropdownVisible?"5px 5px 0 0":"5px",margin,width,marginLabel,colorLabel,isDropdownVisible?"flex":"none",width,border,border,border]]])+" inputField"}),react_default.a.createElement("img",{src:"".concat(prefix,"assets/authorization/arrow.svg"),alt:"",className:style_default.a.dynamic([["369484076",[color,backgroundColor,width,border,isDropdownVisible?"5px 5px 0 0":"5px",margin,width,marginLabel,colorLabel,isDropdownVisible?"flex":"none",width,border,border,border]]])+" arrow"})),react_default.a.createElement("div",{className:style_default.a.dynamic([["369484076",[color,backgroundColor,width,border,isDropdownVisible?"5px 5px 0 0":"5px",margin,width,marginLabel,colorLabel,isDropdownVisible?"flex":"none",width,border,border,border]]])+" list"},options.map((function(_ref2){var cityId=_ref2.id,value=_ref2.value;return react_default.a.createElement("button",{id:"".concat(id).concat("̳").concat(cityId),key:"city-option-".concat(cityId),type:"button",value:value,onClick:function onClick(event){onChange(event),toggleIsDropdownVisible()},className:style_default.a.dynamic([["369484076",[color,backgroundColor,width,border,isDropdownVisible?"5px 5px 0 0":"5px",margin,width,marginLabel,colorLabel,isDropdownVisible?"flex":"none",width,border,border,border]]])+" option"},value)})))),react_default.a.createElement(style_default.a,{id:"369484076",dynamic:[color,backgroundColor,width,border,isDropdownVisible?"5px 5px 0 0":"5px",margin,width,marginLabel,colorLabel,isDropdownVisible?"flex":"none",width,border,border,border]},["input.__jsx-style-dynamic-selector{outline:none;}",".wrapper.__jsx-style-dynamic-selector{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".inputField.__jsx-style-dynamic-selector{color:".concat(color,";background:").concat(backgroundColor,";position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:53px;text-indent:25px;width:").concat(width,";font-size:18px;font-family:'PT Sans',sans-serif;border:").concat(border,";border-radius:").concat(isDropdownVisible?"5px 5px 0 0":"5px",";cursor:pointer;z-index:100;}"),".inputForm.__jsx-style-dynamic-selector{position:relative;margin:".concat(margin,";width:").concat(width,";}"),".formName.__jsx-style-dynamic-selector{height:22px;margin:".concat(marginLabel,";font-size:22px;font-family:'PT Sans',sans-serif;color:").concat(colorLabel,";}"),".list.__jsx-style-dynamic-selector{position:absolute;display:".concat(isDropdownVisible?"flex":"none",";-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;z-index:1000;top:85px;width:").concat(width,";text-indent:35px;box-shadow:0 0 11px rgba(0,0,0,0.11);}"),".option.__jsx-style-dynamic-selector{text-align:left;text-indent:35px;background:white;border:none;border-left:".concat(border,";border-right:").concat(border,";padding:5px 0 5px 0;font-size:18px;line-height:23px;color:#232323;cursor:pointer;outline:none;}"),".option.__jsx-style-dynamic-selector:hover{font-weight:bold;}",".option.__jsx-style-dynamic-selector:last-child{border-bottom:".concat(border,";border-radius:0 0 5px 5px;}"),".option.__jsx-style-dynamic-selector:first-child{padding:15px 0 5px 0;}",".arrow.__jsx-style-dynamic-selector{position:absolute;right:0;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);margin-right:18px;z-index:100;}"]))};Dropdown_Dropdown.displayName="Dropdown",Dropdown_Dropdown.__docgenInfo={description:"@param {number} optional id for Profile change handling\n@param {{\n  id: number,\n  value: string,\n}} selectСity - выбранный город\n@param {function} onChange - функция для смены значения",methods:[],displayName:"Dropdown"};var components_Dropdown_Dropdown=Dropdown_Dropdown;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/Dropdown/Dropdown.js"]={name:"Dropdown",docgenInfo:Dropdown_Dropdown.__docgenInfo,path:"components/Dropdown/Dropdown.js"});var components_Dropdown=components_Dropdown_Dropdown,usernameInvalidRegex=(react_default.a.createElement,/[`0№!@#$%^&*()_+=[\]{};':"\\|,.<>/?~]/),phoneRegex=/^((8|\+7)[- ]?)?(\(?\d{3}\)?[- ]?)?[\d\- ]{7,10}$/,InputTypes_name="name-input",InputTypes_cityName="city-input",InputTypes_phone="phone-input",isUsernameValid=function isUsernameValid(username){if(!username)return!1;var validLength=username.length>2&&username.length<15,invalidRegex=usernameInvalidRegex.test(username);return validLength&&!invalidRegex},isTelephoneValid=function isTelephoneValid(phoneNumber){if(!phoneNumber)return!1;var validLength=12===phoneNumber.length,validRegex=phoneRegex.test(phoneNumber);return validLength&&validRegex},initialState={name:!0,phone:!0},reducer=function reducer(state,action){if(!action)return initialState;switch(action.type){case"name-input":return Object.assign({},state,{name:!state.name});case"phone-input":return Object.assign({},state,{phone:!state.phone});default:return initialState}},UserInfoBox_UserInfoBox=function UserInfoBox(_ref){var name=_ref.name,currentCity=_ref.currentCity,phone=_ref.phone,onInputChange=_ref.onInputChange,onSubmit=_ref.onSubmit,onCancel=_ref.onCancel,_useReducer=Object(react.useReducer)(reducer,initialState),inputState=_useReducer[0],dispatch=_useReducer[1];return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",{className:"jsx-2077089966 infoList"},react_default.a.createElement(components_CustomInput,{id:InputTypes_name,label:"Ваше имя",value:name,hasError:!isUsernameValid(name),onChange:onInputChange,isDisabled:inputState.name,dispatch:dispatch}),react_default.a.createElement(components_Dropdown,{id:InputTypes_cityName,selectedCity:currentCity,onChange:onInputChange,width:"100%",backgroundColor:"rgba(196, 196, 196, 0.16)",margin:"0",colorLabel:"#818181",color:"rgb(84, 84, 84)",border:"2px solid #9e9e9e",marginLabel:"35px 0 15px"}),react_default.a.createElement(components_CustomInput,{id:InputTypes_phone,label:"Телефон",value:phone,hasError:!isTelephoneValid(phone),onChange:onInputChange,isDisabled:inputState.phone,dispatch:dispatch})),react_default.a.createElement("footer",{className:"jsx-2077089966 buttonFooter"},react_default.a.createElement("button",{type:"reset",onClick:onCancel,className:"jsx-2077089966 btn cancelBtn"},"Отменить"),react_default.a.createElement("button",{type:"button",onClick:function validateAndSubmit(){isUsernameValid(name)&&function isCityNameValid(cityName){return!!cityName&&("Москва"===cityName||"Санкт-Петербург"===cityName)}(currentCity.value)&&isTelephoneValid(phone)?(onSubmit(),dispatch()):alert("Поля не соответствуют требованиям")},className:"jsx-2077089966 btn submitBtn"},"Подтвердить")),react_default.a.createElement(style_default.a,{id:"2077089966"},[".buttonFooter.jsx-2077089966{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;margin-top:150px;}",".infoList.jsx-2077089966{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;padding:0 20px;}",".btn.jsx-2077089966{border:1px solid;border-radius:50px;font-size:18px;padding:5px 60px;cursor:pointer;outline:none;}",".logoutBtn.jsx-2077089966,.cancelBtn.jsx-2077089966{background-color:#931332;border-color:#931332;color:white;}",".submitBtn.jsx-2077089966{background-color:transparent;border-color:#717171;color:#717171;}"]))};UserInfoBox_UserInfoBox.__docgenInfo={description:"@param{string} name\n@param{string} currentCity\n@param{string} phone\n@param{function} onInputChange\n@param{function} onSubmit\n@param{function} onCancel",methods:[],displayName:"UserInfoBox"};var components_UserInfoBox_UserInfoBox=UserInfoBox_UserInfoBox;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/UserInfoBox/UserInfoBox.js"]={name:"UserInfoBox",docgenInfo:UserInfoBox_UserInfoBox.__docgenInfo,path:"components/UserInfoBox/UserInfoBox.js"});var components_UserInfoBox=components_UserInfoBox_UserInfoBox,NotificationTooltip=__webpack_require__(182),ModalWrapper=__webpack_require__(234),SectionKeys_notifications=(react_default.a.createElement,{key:"notifications",title:"Уведомления"}),ProfileInfoContainer_prefix=Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:".",NEXT_PUBLIC_API:"http://77.234.215.138:18080",NEXT_PUBLIC_ACCESS_TOKEN:"123",FIREBASE_API_KEY:"AIzaSyCExaLzKWdhhr_1IRPe1NIFdR7Uor12LTI",FIREBASE_AUTH_DOMAIN:"testfire-1bc2f.firebaseapp.com",FIREBASE_DB_URL:"https://testfire-1bc2f.firebaseio.com",FIREBASE_PROJECT_ID:"testfire-1bc2f",FIREBASE_STORAGE_BUCKET:"testfire-1bc2f.appspot.com",FIREBASE_MESSAGING_SENDER_KEY:"243423113529",FIREBASE_APP_ID:"1:243423113529:web:d363f5aa8bf5ca297bf8e8"}).NEXT_PUBLIC_BASE_PATH||"",ProfileInfoContainer_ProfileInfoContainer=function ProfileInfoContainer(_ref){var section=_ref.section,children=_ref.children,currentUser=Object(recoil.g)(store.e),_useState=Object(react.useState)(!1),tooltipVisible=_useState[0],setTooltipVisible=_useState[1],_useLocalStorage=Object(useLocalStorage.a)("notificationsDisabled"),_useLocalStorage2=Object(slicedToArray.a)(_useLocalStorage,2),isDisabled=_useLocalStorage2[0],setIsDisabled=_useLocalStorage2[1],_useRecoilState=Object(recoil.f)(store.b),notificationToken=Object(slicedToArray.a)(_useRecoilState,1)[0];return react_default.a.createElement("div",{className:"jsx-136671467 wrapper"},react_default.a.createElement("div",{className:"jsx-136671467 header"},react_default.a.createElement("h2",{className:"jsx-136671467 title"},section.title),section.key===SectionKeys_notifications.key&&react_default.a.createElement("div",{className:"jsx-136671467 buttonWrapper"},react_default.a.createElement("button",{type:"button",onClick:function onClick(){return setTooltipVisible((function(prevState){return!prevState}))},className:"jsx-136671467 buttonSettings"},react_default.a.createElement("img",{src:"".concat(ProfileInfoContainer_prefix,"/assets/notifications/gear.svg"),alt:"settings",className:"jsx-136671467"})),react_default.a.createElement(ModalWrapper.a,{isModal:!1,visible:tooltipVisible,onClose:function onClose(){return setTooltipVisible(!1)}},react_default.a.createElement("div",{className:"jsx-136671467 tooltipWrapper"},react_default.a.createElement(NotificationTooltip.a,{notificationEnable:isDisabled,onChange:function toggleDisableNotifications(){!isDisabled&&currentUser&&api.a.addNotificationsTokenByUserId(currentUser.id,notificationToken).then((function(){return setIsDisabled(!isDisabled)})),isDisabled&&api.a.deleteCurrentUserNotificationToken(notificationToken).then((function(){return setIsDisabled(!isDisabled)}))}}))))),react_default.a.createElement("div",{className:"jsx-136671467 container"},children),react_default.a.createElement(style_default.a,{id:"136671467"},[".wrapper.jsx-136671467{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-flex-basis:70%;-ms-flex-preferred-size:70%;flex-basis:70%;-webkit-box-flex:3;-webkit-flex-grow:3;-ms-flex-positive:3;flex-grow:3;background-color:white;padding-bottom:40px;margin-left:80px;margin-bottom:40px;}",".header.jsx-136671467{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:20px;background-color:#b65f74;font-family:'Playfair Display',serif;color:white;font-size:28px;}",".title.jsx-136671467{font-weight:bold;font-size:28px;color:#ffffff;}",".container.jsx-136671467{background-color:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;padding:0 20px;}",".tooltipWrapper.jsx-136671467{position:absolute;top:50px;right:316px;}",".buttonWrapper.jsx-136671467{position:relative;}",".buttonSettings.jsx-136671467{padding:0;outline:none;border:none;background-color:transparent;cursor:pointer;}"]))};ProfileInfoContainer_ProfileInfoContainer.displayName="ProfileInfoContainer",ProfileInfoContainer_ProfileInfoContainer.__docgenInfo={description:"@param {Object} section\n@param {string} section.title\n@param {string} section.key\n@param {Node} children",methods:[],displayName:"ProfileInfoContainer"};var components_ProfileInfoContainer_ProfileInfoContainer=ProfileInfoContainer_ProfileInfoContainer;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/ProfileInfoContainer/ProfileInfoContainer.js"]={name:"ProfileInfoContainer",docgenInfo:ProfileInfoContainer_ProfileInfoContainer.__docgenInfo,path:"components/ProfileInfoContainer/ProfileInfoContainer.js"});var components_ProfileInfoContainer=components_ProfileInfoContainer_ProfileInfoContainer,components_Notification=(__webpack_require__(73),__webpack_require__(181).a),NotificationsTypeGroup_NotificationsTypeGroup=(react_default.a.createElement,function NotificationsTypeGroup(_ref){var _ref$type=_ref.type,groupType=void 0===_ref$type?"unread":_ref$type,refetch=_ref.refetch,_ref$notifications=_ref.notifications,notifications=void 0===_ref$notifications?[]:_ref$notifications;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("h2",{className:"jsx-4041725514 title"},function titles(type){switch(type){case"viewed":return"Прочитанные";case"unviewed":return"Новые";default:return"Уведомления"}}(groupType)),react_default.a.createElement("div",{className:"jsx-4041725514 container"},notifications.map((function(_ref2,index){var id=_ref2.id,message=_ref2.message,timestamp=_ref2.timestamp,wineId=_ref2.wineId,notificationType=_ref2.type;return react_default.a.createElement(components_Notification,{id:id,wineId:wineId,date:timestamp,refetch:refetch,message:message,type:notificationType,key:"".concat(groupType,"-").concat(index+1),isViewed:"viewed"===groupType})}))),react_default.a.createElement(style_default.a,{id:"4041725514"},[".title.jsx-4041725514{margin-bottom:15px;padding:5px 0;font-weight:normal;font-size:22px;line-height:28px;border-bottom:1px solid #9e9e9e;color:#931332;}",".container.jsx-4041725514{margin-bottom:30px;}",".noNotifications.jsx-4041725514{padding:5px;font-family:'PT Sans',sans-serif;}"]))});NotificationsTypeGroup_NotificationsTypeGroup.__docgenInfo={description:"Контейнер для списка уведомлений\n@param {string} groupType - Тип уведомлений\n@param {function} refetch - refetch нотификаций\n@param {Array} notifications - Объект уведомления\n@param {string} notifications.text - Текст уведомления\n@param {string} notifications.time - Время создания уведомления\n@param {string} notifications.imageType - Тип изображения слева",methods:[],displayName:"NotificationsTypeGroup",props:{type:{defaultValue:{value:"'unread'",computed:!1},required:!1},notifications:{defaultValue:{value:"[]",computed:!1},required:!1}}};var components_NotificationsTypeGroup_NotificationsTypeGroup=NotificationsTypeGroup_NotificationsTypeGroup;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/NotificationsTypeGroup/NotificationsTypeGroup.js"]={name:"NotificationsTypeGroup",docgenInfo:NotificationsTypeGroup_NotificationsTypeGroup.__docgenInfo,path:"components/NotificationsTypeGroup/NotificationsTypeGroup.js"});var components_NotificationsTypeGroup=components_NotificationsTypeGroup_NotificationsTypeGroup,helpers=__webpack_require__(235),NotificationsBox_NotificationsBox=(react_default.a.createElement,function NotificationsBox(){var _useState=Object(react.useState)(!1),toastVisibility=_useState[0],setToastVisibility=_useState[1],_useRecoilState=Object(recoil.f)(store.c),notificationsList=Object(slicedToArray.a)(_useRecoilState,1)[0],currentUser=Object(recoil.g)(store.e),_useRecoilState3=Object(recoil.f)(store.c),setNotifications=Object(slicedToArray.a)(_useRecoilState3,2)[1],isEmpty=0===notificationsList.reduce((function(prev,currentGroup){return prev+currentGroup.notifications.length}),0);return react_default.a.createElement("div",{className:"jsx-1638431500 container"},toastVisibility?react_default.a.createElement(components_Toast,{type:"success",text:"Уведомление успешно удалено",closeCallback:function closeCallback(){return setToastVisibility(!1)},closeTimeout:500}):null,isEmpty?react_default.a.createElement("div",{className:"jsx-1638431500 noNotificationsWrapper"},react_default.a.createElement("span",{className:"jsx-1638431500 noNotifications"},"У вас пока нет уведомлений...")):notificationsList.map((function(group){return group.notifications.length>0&&react_default.a.createElement(components_NotificationsTypeGroup,{key:group.type,type:group.type,notifications:group.notifications,refetch:function refetch(){Object(helpers.a)(currentUser,setNotifications),setToastVisibility(!0)}})})),react_default.a.createElement(style_default.a,{id:"1638431500"},[".container.jsx-1638431500{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;max-height:760px;overflow:scroll;}",".noNotificationsWrapper.jsx-1638431500{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:620px;}",".noNotifications.jsx-1638431500{font-family:'PT Sans',sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;padding:5px;}"]))});NotificationsBox_NotificationsBox.displayName="NotificationsBox",NotificationsBox_NotificationsBox.__docgenInfo={description:"",methods:[],displayName:"NotificationsBox"};var components_NotificationsBox_NotificationsBox=NotificationsBox_NotificationsBox;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/NotificationsBox/NotificationsBox.js"]={name:"NotificationsBox",docgenInfo:NotificationsBox_NotificationsBox.__docgenInfo,path:"components/NotificationsBox/NotificationsBox.js"});var components_NotificationsBox=components_NotificationsBox_NotificationsBox,components_ConfirmPhoneModal=__webpack_require__(176).a,cityNameById=(react_default.a.createElement,function cityNameById(id){return 1===id?"Москва":2===id?"Санкт-Петербург":null}),cityIdByName=function cityIdByName(cityName){return"Москва"===cityName?1:"Санкт-Петербург"===cityName?2:null},Profile_InputTypes_name="name-input",Profile_InputTypes_cityName="city-input",Profile_InputTypes_phone="phone-input",Profile_SectionKeys_userInfo={key:"userInfo",title:"Профиль"},Profile_SectionKeys_notifications={key:"notifications",title:"Уведомления"},Profile_Profile=function Profile(){var _useLocalStorage=Object(useLocalStorage.a)("accessToken"),accessToken=Object(slicedToArray.a)(_useLocalStorage,1)[0],_useRecoilState=Object(recoil.f)(store.e),_useRecoilState2=Object(slicedToArray.a)(_useRecoilState,2),currentUser=_useRecoilState2[0],setCurrentUser=_useRecoilState2[1],_useRecoilState3=Object(recoil.f)(store.a),setError=Object(slicedToArray.a)(_useRecoilState3,2)[1],_useState=Object(react.useState)(currentUser?currentUser.name:null),nameInputState=_useState[0],setNameInputState=_useState[1],_useState2=Object(react.useState)({id:currentUser?currentUser.cityId:null,value:currentUser?cityNameById(currentUser.cityId):null}),cityInputState=_useState2[0],setCityInputState=_useState2[1],_useState3=Object(react.useState)(currentUser?currentUser.phoneNumber:null),phoneInputState=_useState3[0],setPhoneInputState=_useState3[1],_useState4=Object(react.useState)(Profile_SectionKeys_userInfo),activeSection=_useState4[0],setActiveSection=_useState4[1],unreadNotificationsCount=Object(recoil.g)(store.d),_useState5=Object(react.useState)(!1),toastVisibility=_useState5[0],setToastVisibility=_useState5[1],_useState6=Object(react.useState)(!0),isProfileChanged=_useState6[0],setIsProfileChanged=_useState6[1],_useState7=Object(react.useState)(null),profileData=_useState7[0],setProfileData=_useState7[1],_useState8=Object(react.useState)(!1),isConfirmModalVisible=_useState8[0],setIsConfirmModalVisible=_useState8[1],_useState9=Object(react.useState)(null),phoneChangeError=_useState9[0],setPhoneChangeError=_useState9[1],resetFields=function resetFields(){currentUser&&(setNameInputState(currentUser.name),setCityInputState({id:currentUser.cityId,value:cityNameById(currentUser.cityId)}),setPhoneInputState(currentUser.phoneNumber))},refetchProfileData=function refetchProfileData(){api.a.getProfile(accessToken).then((function(res){res.error&&setError({error:res.error,message:res.message}),res.profile&&!res.profile.error&&setCurrentUser(res.profile)}))};Object(react.useEffect)((function(){currentUser||refetchProfileData(),resetFields()}),[currentUser,setCurrentUser,accessToken]);var updateProfile=function updateProfile(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;api.a.patchProfile(accessToken,data||profileData).then((function(res){res.error?setError({error:res.error,message:res.message}):isProfileChanged&&setToastVisibility(!0)})).then((function(){return refetchProfileData()})).catch(console.error)},onClosePhoneConfirmModal=function onClosePhoneConfirmModal(){setIsConfirmModalVisible(!1),setPhoneChangeError(null)},onSubmit=function(){var _ref=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){var updatedCity,isPhoneUpdated,userToPatch,preparedData,isEmptyObj;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(currentUser.name!==nameInputState||currentUser.cityId!==cityInputState.id||currentUser.phoneNumber!==phoneInputState){_context.next=3;break}return setIsProfileChanged(!1),_context.abrupt("return");case 3:updatedCity=cityInputState.id,isPhoneUpdated=phoneInputState!==currentUser.phoneNumber,userToPatch={name:nameInputState!==currentUser.name?nameInputState:null,cityId:updatedCity!==currentUser.cityId?updatedCity:null,phoneNumber:isPhoneUpdated?phoneInputState:null},preparedData=Object.fromEntries(Object.entries(userToPatch).filter((function(field){return null!==field[1]}))),isEmptyObj=function isEmptyObj(obj){return 0===Object.keys(obj).length},isPhoneUpdated?(setIsConfirmModalVisible(!0),setProfileData(preparedData)):isEmptyObj(preparedData)||updateProfile(preparedData);case 9:case"end":return _context.stop()}}),_callee)})));return function onSubmit(){return _ref.apply(this,arguments)}}();return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(store_GlobalRecoilWrapper,null,toastVisibility?react_default.a.createElement(components_Toast,{type:"success",text:"Пользователь успешно изменен",closeCallback:function closeCallback(){return setToastVisibility(!1)}}):null,react_default.a.createElement(components_ConfirmPhoneModal,{visible:isConfirmModalVisible,onSubmit:function onSubmitPhoneChange(verificationCode){var applicationVerifier;try{applicationVerifier=new index_esm.a.auth.RecaptchaVerifier("phone-confirm-recaptcha",{size:"normal"})}catch(e){applicationVerifier=document.getElementById("phone-confirm-recaptcha")}try{(new index_esm.a.auth.PhoneAuthProvider).verifyPhoneNumber(phoneInputState,applicationVerifier).then((function(verificationId){try{var phoneCredential=index_esm.a.auth.PhoneAuthProvider.credential(verificationId,verificationCode);index_esm.a.auth().currentUser.updatePhoneNumber(phoneCredential)}catch(e){setPhoneChangeError(e.code)}})).then((function(){onClosePhoneConfirmModal(),updateProfile()})).catch((function(e){setPhoneChangeError(e.code)}))}catch(e){setPhoneChangeError(e.code),console.error(e)}},onClose:onClosePhoneConfirmModal,errorCode:phoneChangeError}),react_default.a.createElement("div",{className:"jsx-2124742003 content"},react_default.a.createElement("header",{className:"jsx-2124742003 mainHeader"},"Личный кабинет"),currentUser&&react_default.a.createElement("div",{className:"jsx-2124742003 profile"},react_default.a.createElement("nav",{className:"jsx-2124742003 container"},react_default.a.createElement("div",{className:"jsx-2124742003 userAvatar"},react_default.a.createElement("img",{src:"/assets/wineup-avatar-default.svg",alt:"User Avatar",className:"jsx-2124742003 avatar"})),react_default.a.createElement("ul",{className:"jsx-2124742003 navList"},react_default.a.createElement(components_ProfileSectionMenuItem,{active:activeSection===Profile_SectionKeys_userInfo,labelText:Profile_SectionKeys_userInfo.title,onClick:function onClick(){return setActiveSection(Profile_SectionKeys_userInfo)}}),react_default.a.createElement(components_ProfileSectionMenuItem,{active:activeSection===Profile_SectionKeys_notifications,labelText:Profile_SectionKeys_notifications.title,onClick:function onClick(){return setActiveSection(Profile_SectionKeys_notifications)}},react_default.a.createElement(components_Badge,{count:unreadNotificationsCount}))),react_default.a.createElement("footer",{className:"jsx-2124742003 buttonFooter"},react_default.a.createElement(link_default.a,{href:"logout"},react_default.a.createElement("button",{type:"button",className:"jsx-2124742003 btn logoutBtn"},"Выйти")))),react_default.a.createElement(components_ProfileInfoContainer,{section:activeSection},activeSection===Profile_SectionKeys_userInfo&&react_default.a.createElement(components_UserInfoBox,{name:nameInputState,currentCity:Object.assign({},cityInputState),phone:phoneInputState,onInputChange:function onInputChange(evt){setIsProfileChanged(!0);var newValue=evt.currentTarget.value;switch(evt.currentTarget.id.split("̳")[0]){case Profile_InputTypes_name:setNameInputState(newValue);break;case Profile_InputTypes_cityName:setCityInputState({id:cityIdByName(newValue),value:newValue});break;case Profile_InputTypes_phone:setPhoneInputState(newValue)}},onSubmit:onSubmit,onCancel:resetFields}),activeSection===Profile_SectionKeys_notifications&&react_default.a.createElement(components_NotificationsBox,null))),!currentUser&&react_default.a.createElement("footer",{className:"jsx-2124742003 buttonFooter"},react_default.a.createElement(link_default.a,{href:"/login"},react_default.a.createElement("button",{type:"button",className:"jsx-2124742003 btn logoutBtn"},"Войти")))),react_default.a.createElement(style_default.a,{id:"2124742003"},[".content.jsx-2124742003{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-top:40px;padding:0 20px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background-color:#f5f5f5;}",".mainHeader.jsx-2124742003{font-size:32px;font-weight:bold;padding:30px;}",".profile.jsx-2124742003{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}","nav.container.jsx-2124742003{-webkit-flex-basis:30%;-ms-flex-preferred-size:30%;flex-basis:30%;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;background-color:white;padding:40px;margin-bottom:40px;}",".navList.jsx-2124742003{padding:50px 0;}",".userAvatar.jsx-2124742003{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;}",".buttonFooter.jsx-2124742003{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;margin-top:150px;padding-bottom:20px;}","nav.container.jsx-2124742003 .avatar.jsx-2124742003{height:210px;width:210px;border-radius:50%;}",".btn.jsx-2124742003{border:1px solid;border-radius:50px;font-size:18px;padding:5px 60px;cursor:pointer;outline:none;}",".logoutBtn.jsx-2124742003{background-color:#931332;border-color:#931332;color:white;}"])))};Profile_Profile.__docgenInfo={description:"",methods:[],displayName:"Profile"};var profile_Profile=Profile_Profile;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["pages/profile/Profile.js"]={name:"Profile",docgenInfo:Profile_Profile.__docgenInfo,path:"pages/profile/Profile.js"});react_default.a.createElement,__webpack_exports__.default={title:"Profile",component:profile_Profile};var Profile_stories_Template=function Template(args){return react_default.a.createElement(recoil.a,null,react_default.a.createElement(profile_Profile,args))};Profile_stories_Template.displayName="Template";var profile=Profile_stories_Template.bind({});profile.args={user:{name:"Виноделов Винокур Винокурович",city:"Санкт-Петербург",tel:"+7 999 999 99 99"}},profile.parameters=Object.assign({storySource:{source:"args => (\n  <RecoilRoot>\n    <Profile {...args} />\n  </RecoilRoot>\n)"}},profile.parameters)},1208:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"custom404",(function(){return custom404}));__webpack_require__(69),__webpack_require__(5);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),style=__webpack_require__(3),style_default=__webpack_require__.n(style),next_link=__webpack_require__(136),link_default=__webpack_require__.n(next_link),Search_Search=(react_default.a.createElement,function Search(){var _useState=Object(react.useState)(""),input=_useState[0],setInput=_useState[1],handleClickButton=Object(react.useCallback)((function(e){e.preventDefault()}),[]),handleChangeField=Object(react.useCallback)((function(e){e.preventDefault(),setInput(e.target.value)}),[]);return react_default.a.createElement("div",{className:"jsx-2087067994 searchForm"},react_default.a.createElement("input",{onChange:handleChangeField,id:"f1",value:input,className:"jsx-2087067994 searchField"}),react_default.a.createElement("button",{type:"button",onClick:handleClickButton,className:"jsx-2087067994 searchButton"},react_default.a.createElement("img",{src:"/assets/search/search-icon.svg",alt:"search icon",className:"jsx-2087067994 loop"}),"Найти"),react_default.a.createElement(style_default.a,{id:"2087067994"},[".searchForm.jsx-2087067994{font:18px Sans;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:10px;}",".searchField.jsx-2087067994{border-radius:20px 0 0 20px;border:1px solid #9e9e9e;margin:0 0.5% 0 0;width:75%;height:38px;padding-left:20px;outline:none;font-family:PT Sans,sans-serif;font-style:normal;font-weight:normal;font-size:18px;line-height:23px;}",".searchField.jsx-2087067994::-webkit-input-placeholder{color:black;padding:20px;}",".searchField.jsx-2087067994::-moz-placeholder{color:black;padding:20px;}",".searchField.jsx-2087067994:-ms-input-placeholder{color:black;padding:20px;}",".searchField.jsx-2087067994::placeholder{color:black;padding:20px;}",".searchButton.jsx-2087067994{height:38px;width:24.5%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:#931332;border-radius:0 20px 20px 0;border:0;outline:none;cursor:pointer;font-family:PT Sans,sans-serif;font-style:normal;font-weight:normal;font-size:18px;line-height:23px;color:#ffffff;}",".loop.jsx-2087067994{margin-right:10px;}",".searchButton.jsx-2087067994:hover{background:#af2f4e;}",".searchButton.jsx-2087067994:focus{background:#680019;}","@media screen and (max-width:600px){.searchField.jsx-2087067994{width:100%;padding-left:40px;border-radius:20px;border-color:#9e9e9e;background-image:url('assets/search/search-icon-grey.svg');background-repeat:no-repeat;background-attachment:fixed;background-position:45px 19px;}.searchButton.jsx-2087067994{display:none;}}"]))});Search_Search.displayName="Search",Search_Search.__docgenInfo={description:"",methods:[],displayName:"Search"};var components_Search_Search=Search_Search;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/Search/Search.js"]={name:"Search",docgenInfo:Search_Search.__docgenInfo,path:"components/Search/Search.js"});var components_Search=components_Search_Search,_404_Custom404=(react_default.a.createElement,function Custom404(){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(components_Search,null),react_default.a.createElement("div",{className:"jsx-311653848 contentWrapper"},react_default.a.createElement("div",{className:"jsx-311653848 iconContainer"},react_default.a.createElement("img",{src:"/assets/broken-bottle.svg",alt:"Broken bottle",className:"jsx-311653848"})),react_default.a.createElement("div",{className:"jsx-311653848 textContainer"},react_default.a.createElement("div",{className:"jsx-311653848 warning"},"Ошибка 404"),react_default.a.createElement("div",{className:"jsx-311653848 description"},react_default.a.createElement("p",{className:"jsx-311653848"},"Страница не найдена. "),react_default.a.createElement("p",{className:"jsx-311653848"},"Попробуйте найти на"," ",react_default.a.createElement(link_default.a,{href:"/"},react_default.a.createElement("a",{href:"/",className:"jsx-311653848 link"},"главной странице")))))),react_default.a.createElement(style_default.a,{id:"311653848"},[".contentWrapper.jsx-311653848{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:95px 0;}",".iconContainer.jsx-311653848{margin-right:54px;}",".textContainer.jsx-311653848{padding-bottom:80px;padding-top:170px;}",".warning.jsx-311653848{color:#931332;font-size:62px;font-weight:700;font-family:'Playfair Display',serif;margin-bottom:60px;}",".description.jsx-311653848{font-size:32px;font-weight:700;}",".link.jsx-311653848{-webkit-text-decoration:none;text-decoration:none;}",".link.jsx-311653848:hover{-webkit-text-decoration:underline;text-decoration:underline;}"]))});_404_Custom404.__docgenInfo={description:"",methods:[],displayName:"Custom404"};var _404=_404_Custom404;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["pages/404/404.js"]={name:"Custom404",docgenInfo:_404_Custom404.__docgenInfo,path:"pages/404/404.js"});react_default.a.createElement,__webpack_exports__.default={title:"Page 404",component:_404};var _404_stories_Template=function Template(){return react_default.a.createElement(_404,null)};_404_stories_Template.displayName="Template";var custom404=_404_stories_Template.bind({});custom404.args={},custom404.parameters=Object.assign({storySource:{source:"() => <Custom404 />"}},custom404.parameters)},1209:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"itemDescription",(function(){return itemDescription}));__webpack_require__(69),__webpack_require__(5);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),style=__webpack_require__(3),style_default=__webpack_require__.n(style),ItemDescriptionCard_ItemDescription=(react_default.a.createElement,function ItemDescription(_ref){var color=_ref.color,scent=_ref.scent,gastro=_ref.gastro,taste=_ref.taste;return react_default.a.createElement("div",{className:"jsx-1236428637 description"},react_default.a.createElement("h2",{className:"jsx-1236428637"},"Подробное о вине"),react_default.a.createElement("div",{className:"jsx-1236428637 descriptionBox"},react_default.a.createElement("div",{className:"jsx-1236428637"},react_default.a.createElement("h3",{className:"jsx-1236428637"},"Цвет"),react_default.a.createElement("p",{className:"jsx-1236428637"},color)),react_default.a.createElement("div",{className:"jsx-1236428637 attributeBox"},react_default.a.createElement("h3",{className:"jsx-1236428637"},"Аромат"),react_default.a.createElement("p",{className:"jsx-1236428637"},scent)),react_default.a.createElement("div",{className:"jsx-1236428637 attributeBox"},react_default.a.createElement("h3",{className:"jsx-1236428637"},"Гастрономические сочитения"),react_default.a.createElement("p",{className:"jsx-1236428637"},gastro)),react_default.a.createElement("div",{className:"jsx-1236428637 attributeBox"},react_default.a.createElement("h3",{className:"jsx-1236428637"},"Вкус"),react_default.a.createElement("p",{className:"jsx-1236428637"},taste))),react_default.a.createElement(style_default.a,{id:"1236428637"},[".description.jsx-1236428637{font-size:15px;width:42vw;}",".descriptionBox.jsx-1236428637{margin:20px;}",".attributeBox.jsx-1236428637{margin-top:10px;}","h2.jsx-1236428637{margin-bottom:45px;font-size:28px;font-family:'Playfair Display',serif;}","h3.jsx-1236428637{margin-bottom:10px;font-size:24px;font-family:'Playfair Display',serif;}","p.jsx-1236428637{font-size:18px;font-weight:300;font-family:'Roboto',sans-serif;}"]))});ItemDescriptionCard_ItemDescription.displayName="ItemDescription",ItemDescriptionCard_ItemDescription.__docgenInfo={description:"@param {string} color\n@param {string} scent\n@param {string} gastro\n@param {string} taste",methods:[],displayName:"ItemDescription"};var ItemDescriptionCard=ItemDescriptionCard_ItemDescription;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/ItemDescriptionCard/ItemDescriptionCard.js"]={name:"ItemDescription",docgenInfo:ItemDescriptionCard_ItemDescription.__docgenInfo,path:"components/ItemDescriptionCard/ItemDescriptionCard.js"});var components_ItemDescriptionCard=ItemDescriptionCard,ItemDescriptionCard_stories_Template=(react_default.a.createElement,__webpack_exports__.default={title:"ItemDescription",component:components_ItemDescriptionCard},function Template(args){return react_default.a.createElement(components_ItemDescriptionCard,args)});ItemDescriptionCard_stories_Template.displayName="Template";var itemDescription=ItemDescriptionCard_stories_Template.bind({});itemDescription.args={color:"Вино елегантного розового цвета.",scent:"Свежий аромат вина наполнен отенками полевих цветов.",gastro:"Вино является идеалным аперитивом, хорошо сочетается со свежими фруктами и десертами.",taste:"Изисканный вкус вина характеризуется ягодными тонами, легкой кислинкой и богатыми оттенками малины в долгом послевкусии."},itemDescription.parameters=Object.assign({storySource:{source:"args => <ItemDescription {...args} />"}},itemDescription.parameters)},1210:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"reviewBox",(function(){return reviewBox})),__webpack_require__.d(__webpack_exports__,"emptyReviewBox",(function(){return emptyReviewBox}));__webpack_require__(69),__webpack_require__(5);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),style=__webpack_require__(3),style_default=__webpack_require__.n(style),components_ReviewCard=(__webpack_require__(22),__webpack_require__(178).a),ReviewBox_ReviewBox=(react_default.a.createElement,function ReviewBox(_ref){var _ref$reviews=_ref.reviews,reviews=void 0===_ref$reviews?[]:_ref$reviews,_useState=Object(react.useState)("hidden"),showResults=_useState[0],setShowResults=_useState[1],_useState2=Object(react.useState)(!1),clicked=_useState2[0],setClicked=_useState2[1];return react_default.a.createElement("div",{className:"jsx-2938995879 container"},react_default.a.createElement("h2",{className:"jsx-2938995879 title"},"Отзывы"),react_default.a.createElement("div",{className:"jsx-2938995879 box"},reviews.length?reviews.map((function(review,index){return react_default.a.createElement("div",{id:index,className:"jsx-2938995879 "+"reviewContainer ".concat(index>2?showResults:"")},react_default.a.createElement(components_ReviewCard,{logDate:review.logDate,logName:review.logName,stars:review.stars,review:review.review}))})):react_default.a.createElement("div",{className:"jsx-2938995879 marginEmptyReview"},react_default.a.createElement("p",{className:"jsx-2938995879"},"Здесь пока нет отзывов, но скоро появятся!"),react_default.a.createElement("img",{src:"/assets/review/emptyReview.jpg",alt:";)",className:"jsx-2938995879"})),react_default.a.createElement("div",{className:"jsx-2938995879"},reviews.length>3?react_default.a.createElement("button",{type:"button",onClick:function onClick(){return function handleAllReview(){clicked?(setClicked(!1),setShowResults("hidden")):(setClicked(!0),setShowResults(""))}()},className:"jsx-2938995879 btnAllReviews"},react_default.a.createElement("span",{className:"jsx-2938995879 textAllReviews"},clicked?"Скрыть":"Все отзывы"," ")):"")),react_default.a.createElement(style_default.a,{id:"2938995879"},[".container.jsx-2938995879{width:42vw;min-width:500px;}",".reviewContainer.jsx-2938995879{width:100%;}",".title.jsx-2938995879{margin-bottom:45px;font-size:28px;font-family:'Playfair Display',serif;}",".box.jsx-2938995879{width:100%;padding:0 40px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".hidden.jsx-2938995879{display:none;}",".btnAllReviews.jsx-2938995879{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;margin-top:20px;background:transparent;border:none;outline:0;}",".textAllReviews.jsx-2938995879{padding-left:40px;font-size:16px;font-weight:300;font-family:'Roboto',sans-serif;font-style:italic;-webkit-text-decoration-line:underline;text-decoration-line:underline;color:#707070;cursor:pointer;}",".marginComponent.jsx-2938995879{margin-top:10px;}",".marginEmptyReview.jsx-2938995879{width:340px;margin-top:40px;}",".marginEmptyReview.jsx-2938995879 p.jsx-2938995879{font-family:'Playfair Display',serif;font-style:normal;font-weight:bold;font-size:28px;line-height:32px;text-align:center;}"]))});ReviewBox_ReviewBox.displayName="ReviewBox",ReviewBox_ReviewBox.__docgenInfo={description:"",methods:[],displayName:"ReviewBox",props:{reviews:{defaultValue:{value:"[]",computed:!1},required:!1}}};var components_ReviewBox_ReviewBox=ReviewBox_ReviewBox;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/ReviewBox/ReviewBox.js"]={name:"ReviewBox",docgenInfo:ReviewBox_ReviewBox.__docgenInfo,path:"components/ReviewBox/ReviewBox.js"});react_default.a.createElement,__webpack_exports__.default={title:"ReviewBox",component:components_ReviewBox_ReviewBox};var ReviewBox_stories_Template=function Template(args){return react_default.a.createElement(components_ReviewBox_ReviewBox,args)};ReviewBox_stories_Template.displayName="Template";var reviewBox=ReviewBox_stories_Template.bind({});reviewBox.args={reviews:[{logDate:"11.10.2020",logName:"Petar",stars:"1",review:"Здесь будут оставлять свои ревю...кому что понравилось,кому что непонравилось..Здесь будут оставлять свои ревю, кому что понравилось, кому что не понравилось..Здесь будут оставлять"},{logDate:"10.10.2020",logName:"Petar",stars:"2",review:"Здесь будут оставлять свои ревю..."},{logDate:"11.10.2020",logName:"Petar",stars:"3",review:"Здесь будут оставлять свои ревю...кому что понравилось,кому что непонравилось..Здесь будут оставлять свои ревю, кому что понравилось, кому что не понравилось..Здесь будут оставлять"},{logDate:"11.10.2020",logName:"Petar",stars:"4",review:"Здесь будут оставлять свои ревю...кому что понравилось,кому что непонравилось..Здесь будут оставлять свои ревю, кому что понравилось, кому что не понравилось..Здесь будут оставлять"}]};var emptyReviewBox=ReviewBox_stories_Template.bind({});emptyReviewBox.args={reviews:[]},reviewBox.parameters=Object.assign({storySource:{source:"args => <ReviewBox {...args} />"}},reviewBox.parameters),emptyReviewBox.parameters=Object.assign({storySource:{source:"args => <ReviewBox {...args} />"}},emptyReviewBox.parameters)},1211:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"wineCard",(function(){return wineCard}));__webpack_require__(69),__webpack_require__(5);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),regenerator=__webpack_require__(9),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(29),slicedToArray=__webpack_require__(37),style=__webpack_require__(3),style_default=__webpack_require__.n(style),recoil=(__webpack_require__(95),__webpack_require__(22),__webpack_require__(27),__webpack_require__(323),__webpack_require__(16),__webpack_require__(26),__webpack_require__(25),__webpack_require__(8),__webpack_require__(74),__webpack_require__(10)),next_router=__webpack_require__(236),next_link=__webpack_require__(136),link_default=__webpack_require__.n(next_link),index_es=__webpack_require__(528),favoritesStore=__webpack_require__(81),store=__webpack_require__(237),useLocalStorage=__webpack_require__(91),GlobalRecoilWrapper_store=__webpack_require__(50),formatPrice=(react_default.a.createElement,new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0,maximumFractionDigits:2}).format),formatNumber=new Intl.NumberFormat("ru-RU").format,colors=["#931332","#BBADA4","#FAA4A4"],starsNumber=[1,2,3,4,5],WineCard_WineCard=function WineCard(_ref){var imageSrc=_ref.imageSrc,info=_ref.info,isLiked=_ref.isLiked,color=_ref.color,wineId=_ref.wineId,userExist=Object(recoil.g)(GlobalRecoilWrapper_store.e),_useLocalStorage=Object(useLocalStorage.a)("accessToken"),accessToken=Object(slicedToArray.a)(_useLocalStorage,1)[0],_useState=Object(react.useState)(isLiked),isHeartFilled=_useState[0],setIsHeartFilled=_useState[1],sortedWine=Object(recoil.g)(favoritesStore.e),_useRecoilState=Object(recoil.f)(favoritesStore.e),setSortedWine=Object(slicedToArray.a)(_useRecoilState,2)[1],allWinesStore=Object(recoil.g)(store.a),_useRecoilState3=Object(recoil.f)(favoritesStore.c),setEmpty=Object(slicedToArray.a)(_useRecoilState3,2)[1],fetched=Object(recoil.g)(favoritesStore.d),router=Object(next_router.useRouter)(),addFavorite=Object(recoil.e)((function(_ref2){var snapshot=_ref2.snapshot;return function(){var _ref3=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(id){return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,snapshot.getPromise(Object(favoritesStore.a)([id,accessToken]));case 2:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref3.apply(this,arguments)}}()})),deleteFavorite=Object(recoil.e)((function(_ref4){var snapshot=_ref4.snapshot;return function(){var _ref5=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(id){return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,snapshot.getPromise(Object(favoritesStore.b)([id,accessToken]));case 2:case"end":return _context2.stop()}}),_callee2)})));return function(_x2){return _ref5.apply(this,arguments)}}()}));return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(link_default.a,{href:"/wine/".concat(wineId)},react_default.a.createElement("div",{className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])+" card"},react_default.a.createElement("div",{className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])+" top"},react_default.a.createElement("button",{onClick:function onClick(e){return function clickHeart(e,id,token){if(e.stopPropagation(),userExist)if(isHeartFilled){setIsHeartFilled(!1),deleteFavorite(id,token);var _copy=sortedWine.map((function(a){return Object.assign({},a)})),_item=_copy.find((function(x){return x.wine_position_id===id})),index=_copy.indexOf(_item);_copy.splice(index,1),0===_copy.length&&setEmpty(!0),setSortedWine((function(){return _copy}))}else{setIsHeartFilled(!0),addFavorite(id,token);var item=allWinesStore.find((function(x){return x.wine_position_id===id})),copy=sortedWine.map((function(a){return Object.assign({},a)}));fetched&&(copy.push(item),setSortedWine((function(){return copy})))}else router.push("/login")}(e,wineId)},type:"button",className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])+" heartButton"},react_default.a.createElement("img",{src:"/assets/card/heart-".concat(isHeartFilled?"filled":"empty",".svg"),alt:"heart",className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])+" "+"heart ".concat(isHeartFilled?"filled":"")})),react_default.a.createElement("div",{className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])+" score"},react_default.a.createElement("div",{className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])+" stars"},starsNumber.map((function(star,index){return react_default.a.createElement("img",{src:"/assets/card/".concat(index<info.stars?"filled":"empty","-star.svg"),alt:"".concat(index<info.stars?"filled":"empty"," star"),key:star.toString(),className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])})}))),imageSrc?react_default.a.createElement("div",{className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])+" imgContainer"},react_default.a.createElement("img",{src:imageSrc,alt:info.name,className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])+" wineImg"})):null,react_default.a.createElement("div",{className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])+" wineBg"},react_default.a.createElement("h2",{className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])+" price"},formatPrice(info.discount?info.discount.price:info.price)),react_default.a.createElement("h4",{className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])+" size"},formatNumber(info.size)," л.")),info.discount?react_default.a.createElement("div",{className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])+" discount"},react_default.a.createElement("h2",{className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])+" discountPercent"},"-",info.discount.percent,"%"),react_default.a.createElement("h4",{className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])+" oldPrice"},formatPrice(info.price))):null)),react_default.a.createElement("h2",{className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])+" name"},info.name),react_default.a.createElement("div",{className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])+" line"}),react_default.a.createElement("h2",{className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])+" year"},info.year," г."),react_default.a.createElement("div",{className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])+" icons"},react_default.a.createElement(index_es.a,{style:{width:20,height:15,borderRadius:3},countryCode:info.country.code,svg:!0}),react_default.a.createElement("img",{src:"/assets/card/bottle-icon.svg",alt:"bottle icon",className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])}),react_default.a.createElement("img",{src:"/assets/card/fits-icon.svg",alt:"fits icon",className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])}),react_default.a.createElement("img",{src:"/assets/card/shop-icon.svg",alt:"shop icon",className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])})),react_default.a.createElement("div",{className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])+" info"},react_default.a.createElement("p",{className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])},info.country.name),react_default.a.createElement("p",{className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])},info.about),react_default.a.createElement("p",{className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])},"Подходит вам на ",info.fitsPercent,"%"),react_default.a.createElement("p",{className:style_default.a.dynamic([["2479900141",[colors[color]||"#931332"]]])},info.shop)))),react_default.a.createElement(style_default.a,{id:"2479900141",dynamic:[colors[color]||"#931332"]},[".flagIcon.__jsx-style-dynamic-selector{background-size:contain;background-position:50%;background-repeat:no-repeat;}",".card.__jsx-style-dynamic-selector{width:300px;height:587px;position:relative;background-color:#ffffff;cursor:pointer;}",".top.__jsx-style-dynamic-selector{height:340px;position:relative;}",".heartButton.__jsx-style-dynamic-selector{padding:10px;border:none;background-color:#ffffff;outline:none;cursor:pointer;}",".heart.__jsx-style-dynamic-selector{fill:transparent;stroke:#931332;-webkit-transition:fill 0.3s;transition:fill 0.3s;}",".heart.filled.__jsx-style-dynamic-selector{fill:#931332;}",".stars.__jsx-style-dynamic-selector{width:137px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".score.__jsx-style-dynamic-selector{padding-left:10px;padding-top:52px;}",".scoreCaption.__jsx-style-dynamic-selector{padding-top:4px;font-family:PT Sans,sans-serif;font-style:normal;font-weight:normal;font-size:14px;line-height:18px;color:#9e9e9e;}",".wineImg.__jsx-style-dynamic-selector{width:auto;height:270px;position:absolute;top:50px;right:65px;z-index:2;}",".wineBg.__jsx-style-dynamic-selector{width:100%;height:122px;position:absolute;top:152px;background-color:".concat(colors[color]||"#931332",";}"),".discount.__jsx-style-dynamic-selector{position:absolute;top:60px;right:5px;}",".discountPercent.__jsx-style-dynamic-selector{font-family:Playfair Display,serif;font-style:normal;font-weight:900;font-size:30px;line-height:40px;color:#931332;}",".oldPrice.__jsx-style-dynamic-selector{position:relative;font-family:Playfair Display,serif;font-style:normal;font-weight:bold;font-size:20px;line-height:27px;-webkit-text-decoration-line:line-through;text-decoration-line:line-through;color:#c4c4c4;}",".price.__jsx-style-dynamic-selector{position:absolute;top:40px;left:20px;font-family:Playfair Display,serif;font-style:normal;font-weight:bold;font-size:28px;line-height:37px;color:#ffffff;}",".size.__jsx-style-dynamic-selector{position:absolute;bottom:5px;right:5px;font-family:Playfair Display,serif;font-style:normal;font-weight:bold;font-size:18px;line-height:24px;color:#ffffff;}",".name.__jsx-style-dynamic-selector{max-height:75px;padding-left:10px;font-family:Playfair Display,serif;font-style:normal;font-weight:bold;font-size:28px;line-height:37px;color:#000000;overflow:hidden;}",".line.__jsx-style-dynamic-selector{width:165px;position:absolute;bottom:155px;left:10px;border-bottom:2px solid #9e9e9e;}",".year.__jsx-style-dynamic-selector{position:absolute;bottom:5px;right:5px;font-family:Playfair Display,serif;font-style:normal;font-weight:bold;font-size:30px;line-height:40px;color:#000000;}",".icons.__jsx-style-dynamic-selector{width:25px;height:108px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;bottom:20px;left:10px;}",".info.__jsx-style-dynamic-selector{position:absolute;bottom:11px;left:45px;font-family:PT Sans,sans-serif;font-style:normal;font-weight:normal;font-size:18px;line-height:31px;color:#9e9e9e;}"]))};WineCard_WineCard.__docgenInfo={description:"Карточка вина с главной информацией о нём\n@param {string} imageSrc - Адрес изображения бутылки вина\n@param {boolean} isLiked - Флаг, показывающий лайкнул ли юзер винчик\n@param {number} color - Номер цвета заднего фона, всего их три, они указаны в массиве colors\n@param {Object} info - Информация о вине\n@param {string} wineId - id винной позиции\n@param {string} info.shop - Название магазина\n@param {string} info.name - Название вина\n@param {string} info.about - Тип и цвет винчика\n@param {Object} info.country - Страна изготовитель\n@param {string} info.country.code - Код страны (например, fr для Франции)\n@param {string} info.country.name - Название страны на руссоком\n@param {number} info.size - Размер бутылки\n@param {number} info.year - Год\n@param {number} info.fitsPercent - Процент насколько подходит юзеру вино\n@param {number} info.stars - Сколько эксперты дали звёзд\n@param {number} info.price - Цена без скидок\n@param {Object} info.discount - Опциональный параметр, указывает, что на вино есть скидка\n@param {number} info.discount.price - Цена со скидкой\n@param {number} info.discount.percent - Сколько процентов скидка",methods:[],displayName:"WineCard"};var components_WineCard_WineCard=WineCard_WineCard;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/WineCard/WineCard.js"]={name:"WineCard",docgenInfo:WineCard_WineCard.__docgenInfo,path:"components/WineCard/WineCard.js"});react_default.a.createElement,__webpack_exports__.default={title:"WineCard",component:components_WineCard_WineCard};var WineCard_stories_Template=function Template(args){return react_default.a.createElement(components_WineCard_WineCard,args)};WineCard_stories_Template.displayName="Template";var wineCard=WineCard_stories_Template.bind({});wineCard.args={imageSrc:"https://amwine.ru/upload/resize_cache/iblock/b8b/620_620_1/b8b1bb64748968fe374765a9f6dc2738.png",info:{shop:"Ароматный мир",name:"Estate Vineyards Sauvignon Blanc",about:"Красное, полусладкое",country:{code:"it",name:"Италия"},size:.75,year:2011,fitsPercent:75,stars:4,price:"1200",discount:{price:"900",percent:12}},isLiked:!0},wineCard.parameters=Object.assign({storySource:{source:"args => <WineCard {...args} />"}},wineCard.parameters)},1212:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"winePosition",(function(){return winePosition}));__webpack_require__(69),__webpack_require__(5);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),recoil=__webpack_require__(10),regenerator=__webpack_require__(9),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(29),slicedToArray=__webpack_require__(37),style=__webpack_require__(3),style_default=__webpack_require__.n(style),next_router=(__webpack_require__(95),__webpack_require__(22),__webpack_require__(27),__webpack_require__(323),__webpack_require__(8),__webpack_require__(19),__webpack_require__(74),__webpack_require__(236)),store=__webpack_require__(50),favoritesStore=__webpack_require__(81),Catalog_store=__webpack_require__(237),useLocalStorage=__webpack_require__(91),formatPrice=(react_default.a.createElement,new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0,maximumFractionDigits:2}).format),formatNumber=new Intl.NumberFormat("ru-RU").format,colors=["#931332","#BBADA4","#FAA4A4"],WinePosition_WinePosition=function WinePosition(_ref){var imageSrc=_ref.imageSrc,info=_ref.info,favorite=_ref.favorite,wineId=_ref.wineId,_ref$color=_ref.color,color=void 0===_ref$color?0:_ref$color,userExist=Object(recoil.g)(store.e),_useLocalStorage=Object(useLocalStorage.a)("accessToken"),accessToken=Object(slicedToArray.a)(_useLocalStorage,1)[0],_useState=Object(react.useState)(favorite),isFavorite=_useState[0],setIsFavorite=_useState[1],router=Object(next_router.useRouter)(),_useRecoilState=Object(recoil.f)(favoritesStore.e),_useRecoilState2=Object(slicedToArray.a)(_useRecoilState,2),sortedWine=_useRecoilState2[0],setSortedWine=_useRecoilState2[1],allWinesStore=Object(recoil.g)(Catalog_store.a),setEmpty=Object(recoil.h)(favoritesStore.c),fetched=Object(recoil.g)(favoritesStore.d),addFavorite=Object(recoil.e)((function(_ref2){var snapshot=_ref2.snapshot;return function(){var _ref3=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(id){return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,snapshot.getPromise(Object(favoritesStore.a)([id,accessToken]));case 2:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref3.apply(this,arguments)}}()})),deleteFavorite=Object(recoil.e)((function(_ref4){var snapshot=_ref4.snapshot;return function(){var _ref5=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(id){return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,snapshot.getPromise(Object(favoritesStore.b)([id,accessToken]));case 2:case"end":return _context2.stop()}}),_callee2)})));return function(_x2){return _ref5.apply(this,arguments)}}()}));return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("h2",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" name"},info.name),react_default.a.createElement("div",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" card"},react_default.a.createElement("div",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" img"},react_default.a.createElement("img",{src:imageSrc,alt:"bottle",className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" wineImg"}),react_default.a.createElement("p",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" scoreCaption"},"Подходит вам на:",react_default.a.createElement("span",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" scorePercent"},info.fitsPercent,"%"))),react_default.a.createElement("div",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" info"},react_default.a.createElement("p",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" infoTitle"},"Виноград: ",react_default.a.createElement("span",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" infoText"},info.grape)),react_default.a.createElement("p",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" infoTitle"},"Объем: ",react_default.a.createElement("span",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" infoText"},formatNumber(info.size))),react_default.a.createElement("p",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" infoTitle"},"Страна: ",react_default.a.createElement("span",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" infoText"},info.country)),react_default.a.createElement("p",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" infoTitle"},"Сахар: ",react_default.a.createElement("span",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" infoText"},info.sugar)),react_default.a.createElement("p",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" infoTitle"},"Цвет: ",react_default.a.createElement("span",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" infoText"},info.color)),react_default.a.createElement("p",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" infoTitle"},"Магазин: ",react_default.a.createElement("span",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" infoText"},info.shop)),react_default.a.createElement("p",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" infoTitle"},"Крепость: ",react_default.a.createElement("span",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" infoText"},info.alcohol)),react_default.a.createElement("p",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" infoTitle"},"Производитель: ",react_default.a.createElement("span",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" infoText"},info.brand)),react_default.a.createElement("p",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" infoTitle"},"Винтаж: ",react_default.a.createElement("span",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" infoText"},info.year)),react_default.a.createElement("a",{href:"https://amwine.ru/",className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" goToShop"},"Перейти в магазин",react_default.a.createElement("img",{src:"../assets/card/cart-icon.svg",alt:"cart-icon",className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])}))),react_default.a.createElement("div",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" rightBlock"},info.discount?react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("p",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])},react_default.a.createElement("span",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" previousPrice"},info.price)," -",info.discount.percent,"%"),react_default.a.createElement("p",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" currentPrice"},formatPrice(info.discount.price))):react_default.a.createElement("p",{className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" currentPrice pricePt"},formatPrice(info.price)),react_default.a.createElement("button",{type:"button",onClick:function onClick(){return function clickHeart(id,token){if(userExist)if(isFavorite){setIsFavorite(!1),deleteFavorite(id,token);var _copy=sortedWine.map((function(a){return Object.assign({},a)})),_item=_copy.find((function(x){return x.wine_position_id===id})),index=_copy.indexOf(_item);_copy.splice(index,1),0===_copy.length&&setEmpty(!0),setSortedWine((function(){return _copy}))}else{setIsFavorite(!0),addFavorite(id,token);var item=allWinesStore.find((function(x){return x.wine_position_id===id})),copy=sortedWine.map((function(a){return Object.assign({},a)}));fetched&&(copy.push(item),setSortedWine((function(){return copy})))}else router.push("/login")}(wineId,accessToken)},className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])+" favorite"},isFavorite?react_default.a.createElement(react_default.a.Fragment,null,"Убрать из избранного",react_default.a.createElement("img",{src:"../assets/card/heart-filled.svg",alt:"cart-icon",className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])})):react_default.a.createElement(react_default.a.Fragment,null,"Добавить в избранное",react_default.a.createElement("img",{src:"../assets/card/heart-empty.svg",alt:"cart-icon",className:style_default.a.dynamic([["1562245157",[colors[color],colors[color]]]])}))))),react_default.a.createElement(style_default.a,{id:"1562245157",dynamic:[colors[color],colors[color]]},[".name.__jsx-style-dynamic-selector{font-family:Playfair Display,serif;font-style:normal;font-weight:bold;font-size:32px;line-height:43px;color:#000000;}",".card.__jsx-style-dynamic-selector{width:100%;margin-top:80px;padding-bottom:60px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;background:linear-gradient( 180deg, white 0, white 98px, ".concat(colors[color]," 98px, ").concat(colors[color]," 219px, white 219px, white );border-bottom:1px solid #c4c4c4;}"),".img.__jsx-style-dynamic-selector{-webkit-flex-basis:33%;-ms-flex-preferred-size:33%;flex-basis:33%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".wineImg.__jsx-style-dynamic-selector{width:120px;height:auto;margin-bottom:25px;}",".info.__jsx-style-dynamic-selector{-webkit-flex-basis:33%;-ms-flex-preferred-size:33%;flex-basis:33%;min-width:315px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:40px 50px;background:rgba(252,252,252,0.91);box-shadow:0 4px 29px rgba(0,0,0,0.15);}",".infoTitle.__jsx-style-dynamic-selector{margin-bottom:20px;font-family:PT Sans,sans-serif;font-style:normal;font-weight:400;font-size:22px;line-height:28px;color:#9e9e9e;}",".infoText.__jsx-style-dynamic-selector{color:#000;}",".goToShop.__jsx-style-dynamic-selector{margin-top:20px;padding:10px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;font-weight:bold;font-size:24px;color:#fff;background-color:#931332;box-shadow:0 15px 31px rgba(147,19,50,0.46);border-radius:8px;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:0.2s;transition:0.2s;}",".goToShop.__jsx-style-dynamic-selector img.__jsx-style-dynamic-selector{margin-left:10px;}",".goToShop.__jsx-style-dynamic-selector:hover{background:#af2f4e;}",".goToShop.__jsx-style-dynamic-selector:focus{background:#680019;}",".rightBlock.__jsx-style-dynamic-selector{margin-top:105px;-webkit-flex-basis:33%;-ms-flex-preferred-size:33%;flex-basis:33%;font-family:Playfair Display,serif;font-style:normal;font-weight:bold;font-size:35px;line-height:47px;text-align:center;color:#fff;}",".previousPrice.__jsx-style-dynamic-selector{-webkit-text-decoration-line:line-through;text-decoration-line:line-through;color:#000;}",".currentPrice.__jsx-style-dynamic-selector{font-size:50px;}",".pricePt.__jsx-style-dynamic-selector{padding-top:1.5rem;}",".scoreCaption.__jsx-style-dynamic-selector{padding-right:15px;font-family:PT Sans,sans-serif;font-style:normal;font-weight:400;font-size:22px;line-height:28px;text-align:left;color:#000000;}",".scorePercent.__jsx-style-dynamic-selector{padding-left:15px;font-style:normal;font-weight:400;font-size:22px;line-height:28px;color:#ecab2e;}",".favorite.__jsx-style-dynamic-selector{margin:50px 20px 0 auto;padding:10px 20px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-family:'PT Sans',sans-serif;font-weight:400;font-size:24px;color:#931332;border:1px solid #931332;border-radius:8px;background-color:transparent;cursor:pointer;outline:none;-webkit-transition:0.2s;transition:0.2s;}",".favorite.__jsx-style-dynamic-selector img.__jsx-style-dynamic-selector{margin-left:10px;}",".favorite.__jsx-style-dynamic-selector:hover{border-color:#af2f4e;box-shadow:0 0 5px #af2f4e;}"]))};WinePosition_WinePosition.__docgenInfo={description:"Карточка вина с главной информацией о нём\n@param {string} imageSrc - Адрес изображения бутылки вина\n@param {number} color - Номер цвета заднего фона, всего их три, они указаны в массиве colors\n@param {boolean} favorite - Является ли избранным вином\n@param {Object} info - Информация о вине\n@param {string} wineId\n@param {string} info.name - Название вина\n@param {string} info.grape - Сорт винограда\n@param {number} info.size - Размер бутылки\n@param {string} info.country - Страна изготовитель\n@param {string} info.sugar - Сладкое/полусладкое...\n@param {string} info.color - Белое/Красное...\n@param {string} info.alcohol - Процент алкоголя\n@param {string} info.brand - Производитель\n@param {string} info.shop - Название магазина\n@param {number} info.year - Год\n@param {number} info.fitsPercent - Процент насколько подходит юзеру вино\n@param {number} info.price - Цена без скидок\n@param {Object} info.discount - Опциональный параметр, указывает, что на вино есть скидка\n@param {number} info.discount.price - Цена со скидкой\n@param {number} info.discount.percent - Сколько процентов скидка",methods:[],displayName:"WinePosition",props:{color:{defaultValue:{value:"0",computed:!1},required:!1}}};var components_WinePosition_WinePosition=WinePosition_WinePosition;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/WinePosition/WinePosition.js"]={name:"WinePosition",docgenInfo:WinePosition_WinePosition.__docgenInfo,path:"components/WinePosition/WinePosition.js"});react_default.a.createElement,__webpack_exports__.default={title:"WinePosition",component:components_WinePosition_WinePosition};var WinePosition_stories_Template=function Template(args){return react_default.a.createElement(recoil.a,null,react_default.a.createElement(components_WinePosition_WinePosition,args))};WinePosition_stories_Template.displayName="Template";var winePosition=WinePosition_stories_Template.bind({});winePosition.args={imageSrc:"https://amwine.ru/upload/resize_cache/iblock/7bc/620_620_1/7bcaa8fad7ebb211cbcda8a27b5382ba.png",info:{name:"Estate Vineyards Sauvignon Blanc",grape:"Арени",size:.75,country:"Португалия",sugar:"сухое",color:"красное",shop:"Ароматный мир",alcohol:12,brand:"Gevorkian Winery",year:2011,fitsPercent:75,stars:3,price:"1200",discount:{price:"900",percent:12}}},winePosition.parameters=Object.assign({storySource:{source:"args => (\n  <RecoilRoot>\n    <WinePosition {...args} />\n  </RecoilRoot>\n)"}},winePosition.parameters)},176:function(module,__webpack_exports__,__webpack_require__){"use strict";var styled_jsx_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),styled_jsx_style__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_ModalWrapper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(234),_CustomFormButton__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(183),ErrorCodesMapper=(react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement,{"auth/captcha-check-failed":"Повторите ввод reCAPTCHA","auth/invalid-phone-number":"Неверный формат номера телефона","auth/quota-exceeded":"Квота на отправку СМС превышена","auth/user-disabled":"Данные профиля недоступны","auth/maximum-second-factor-count-exceeded":"Превышен максимальный лимит двухфакторных проверок","auth/unsupported-first-factor":"Для изменения данных профиля необходимо повторить вход в аккаунт","auth/unverified-email":"Неподтвержденная электронная почта","auth/too-many-requests":"Превышен лимит запросов"}),ConfirmPhoneModal=function ConfirmPhoneModal(_ref){var visible=_ref.visible,errorCode=_ref.errorCode,onSubmit=_ref.onSubmit,onClose=_ref.onClose,_useState=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),verificationCode=_useState[0],setVerificationCode=_useState[1],errorMessage=Object(react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((function(){return errorCode?ErrorCodesMapper[errorCode]||"Профиль не обновлен: система перегружена":null}),[errorCode]),isSubmitDisabled=Object(react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((function(){return 6!==verificationCode.length||errorCode}),[verificationCode,errorCode]),handleCodeChange=Object(react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((function(e){var code=e.target.value;code.length<=6&&setVerificationCode(code)}),[setVerificationCode]);return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"jsx-3330564625"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ModalWrapper__WEBPACK_IMPORTED_MODULE_2__.a,{visible:visible,onClose:onClose},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"jsx-3330564625 contentWrapper"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h1",{className:"jsx-3330564625 header"},"Введите код подтверждения"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"jsx-3330564625 inputWithErrorWrapper"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("input",{placeholder:"Введите код подтверждения",value:verificationCode,onChange:handleCodeChange,className:"jsx-3330564625 inputField"}),errorMessage&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",{className:"jsx-3330564625 errorMessage"},errorMessage)),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"jsx-3330564625 controlsWrapper"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_CustomFormButton__WEBPACK_IMPORTED_MODULE_3__.a,{width:"49%",onClick:onClose,text:"Отменить"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_CustomFormButton__WEBPACK_IMPORTED_MODULE_3__.a,{width:"49%",text:"Подтвердить",disabled:isSubmitDisabled,onClick:function onClick(){return onSubmit(verificationCode)}})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{id:"phone-confirm-recaptcha",className:"jsx-3330564625"}))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(styled_jsx_style__WEBPACK_IMPORTED_MODULE_0___default.a,{id:"3330564625"},[".header.jsx-3330564625{text-align:center;}",".inputField.jsx-3330564625{height:53px;margin-top:10px;text-indent:25px;width:499px;font-size:18px;font-family:'PT Sans',sans-serif;border:1px solid #9e9e9e;border-radius:5px;}",".inputField.jsx-3330564625:active{border:0;border-bottom:2px solid red;}",".contentWrapper.jsx-3330564625{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100%;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".controlsWrapper.jsx-3330564625{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".inputWithErrorWrapper.jsx-3330564625{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".errorMessage.jsx-3330564625{color:#cf3737;font-family:'PT Sans',sans-serif;font-style:normal;font-weight:normal;font-size:14px;line-height:18px;height:18px;width:499px;border:0;padding:0;background:inherit;}"]))};ConfirmPhoneModal.displayName="ConfirmPhoneModal",ConfirmPhoneModal.__docgenInfo={description:"@param {boolean} visible\n@param {string} errorCode\n@param {function} onClose\n@param {function} onSubmit",methods:[],displayName:"ConfirmPhoneModal"},__webpack_exports__.a=ConfirmPhoneModal,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/ConfirmPhoneModal/ConfirmPhoneModal.js"]={name:"ConfirmPhoneModal",docgenInfo:ConfirmPhoneModal.__docgenInfo,path:"components/ConfirmPhoneModal/ConfirmPhoneModal.js"})},177:function(module,__webpack_exports__,__webpack_require__){"use strict";var styled_jsx_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),styled_jsx_style__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),titleBackground=(__webpack_require__(217),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement,function titleBackground(type){switch(type){case"success":return"#b1e86b";case"warning":return"#ffc107";case"error":return"#fa5766";default:return"#fff"}}),Toast=function Toast(_ref){var type=_ref.type,text=_ref.text,_ref$closeCallback=_ref.closeCallback,closeCallback=void 0===_ref$closeCallback?function(){}:_ref$closeCallback,_ref$closeTimeout=_ref.closeTimeout,closeTimeout=void 0===_ref$closeTimeout?1e3:_ref$closeTimeout,_useState=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),isHidden=_useState[0],setHidden=_useState[1],clickHandler=Object(react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((function(){setHidden(!0),setTimeout(closeCallback,closeTimeout)}),[closeCallback]);return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:styled_jsx_style__WEBPACK_IMPORTED_MODULE_0___default.a.dynamic([["1973290086",[titleBackground(type)]]])+" toastWrapper"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:styled_jsx_style__WEBPACK_IMPORTED_MODULE_0___default.a.dynamic([["1973290086",[titleBackground(type)]]])+" "+"finalMessage ".concat(isHidden?"hidden":"")},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:styled_jsx_style__WEBPACK_IMPORTED_MODULE_0___default.a.dynamic([["1973290086",[titleBackground(type)]]])+" title"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h5",{className:styled_jsx_style__WEBPACK_IMPORTED_MODULE_0___default.a.dynamic([["1973290086",[titleBackground(type)]]])},text),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("input",{type:"button",onClick:clickHandler,className:styled_jsx_style__WEBPACK_IMPORTED_MODULE_0___default.a.dynamic([["1973290086",[titleBackground(type)]]])}))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(styled_jsx_style__WEBPACK_IMPORTED_MODULE_0___default.a,{id:"1973290086",dynamic:[titleBackground(type)]},[".toastWrapper.__jsx-style-dynamic-selector{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:relative;z-index:10000;}",".finalMessage.__jsx-style-dynamic-selector{position:fixed;top:10%;width:100%;max-width:700px;display:block;background:#fff;border:1px solid black;border-radius:5px;font-family:'Playfair Display',serif;font-size:20px;text-align:center;overflow:hidden;box-shadow:0 10px 20px 0 rgb(0 0 0 / 5%);-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:fadeIn-__jsx-style-dynamic-selector;animation-name:fadeIn-__jsx-style-dynamic-selector;z-index:2000;}","@-webkit-keyframes fadeIn-__jsx-style-dynamic-selector{0%{opacity:0;}100%{opacity:1;}}","@keyframes fadeIn-__jsx-style-dynamic-selector{0%{opacity:0;}100%{opacity:1;}}","@-webkit-keyframes fadeOut-__jsx-style-dynamic-selector{0%{opacity:1;}100%{opacity:0;}}","@keyframes fadeOut-__jsx-style-dynamic-selector{0%{opacity:1;}100%{opacity:0;}}",".finalMessage.hidden.__jsx-style-dynamic-selector{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:fadeOut-__jsx-style-dynamic-selector;animation-name:fadeOut-__jsx-style-dynamic-selector;}",".title.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:20px 40px;border-bottom:1px solid #e0e0e0;background-color:".concat(titleBackground(type),";}"),".title.__jsx-style-dynamic-selector h5.__jsx-style-dynamic-selector{margin:0;font-size:28px;}",".title.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector{width:20px;margin:0 0 0 auto;background:transparent url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3E%3C/svg%3E\") 50%/1em auto no-repeat;border:none;border-radius:0.25rem;outline:none;opacity:0.5;cursor:pointer;-webkit-transition:0.2s;transition:0.2s;}",".title.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector:hover{opacity:0.8;}"]))};Toast.displayName="Toast",Toast.__docgenInfo={description:"",methods:[],displayName:"Toast",props:{closeCallback:{defaultValue:{value:"() => {}",computed:!1},required:!1},closeTimeout:{defaultValue:{value:"1000",computed:!1},required:!1}}},__webpack_exports__.a=Toast,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/Toast/Toast.js"]={name:"Toast",docgenInfo:Toast.__docgenInfo,path:"components/Toast/Toast.js"})},178:function(module,__webpack_exports__,__webpack_require__){"use strict";var styled_jsx_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),styled_jsx_style__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(22),__webpack_require__(31),__webpack_require__(21),__webpack_require__(0)),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),ReviewCard=(react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement,function ReviewCard(_ref){var logDate=_ref.logDate,logName=_ref.logName,stars=_ref.stars,review=_ref.review,_useState=Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)(!0),allText=_useState[0],setAllText=_useState[1],_useState2=Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)("Читать полностью"),btnText=_useState2[0],setBtnText=_useState2[1],firstPartText=function split(string){var length=arguments.length>1&&void 0!==arguments[1]?arguments[1]:120;if(string.length<=length)return string;for(var newString="";newString.length<length&&string.length>newString.length;)newString+=string[newString.length];return"".concat(newString,"...")}(review);return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{className:"jsx-598560783 container"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{className:"jsx-598560783 columnGap"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{className:"jsx-598560783 logs"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p",{className:"jsx-598560783"},logDate),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p",{className:"jsx-598560783"},logName)),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{className:"jsx-598560783 stars"},Array.from({length:5}).map((function(star,index){return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("img",{src:"/assets/review/".concat(index<stars?"filled":"empty","-star.svg"),alt:"".concat(index<stars?"filled":"empty"," star"),className:"jsx-598560783"})})))),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{className:"jsx-598560783 reviewContainer"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{className:"jsx-598560783 module"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p",{className:"jsx-598560783"},allText?firstPartText:review),review.length>120?react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button",{onClick:function onClick(){return function handleReview(){allText?(setAllText(!1),setBtnText("Свернуть отзыв")):(setAllText(!0),setBtnText("Читать полностью"))}()},type:"button",className:"jsx-598560783 "+"transparentBtn ".concat(allText?"":"hideBtn")},btnText):null)),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(styled_jsx_style__WEBPACK_IMPORTED_MODULE_0___default.a,{id:"598560783"},[".container.jsx-598560783{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;margin:20px 0;}",".reviewContainer.jsx-598560783{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".columnGap.jsx-598560783{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-column-gap:50px;column-gap:50px;}",".logs.jsx-598560783{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-column-gap:5px;column-gap:5px;font-size:16px;color:grey;font-family:PT Sans,sans-serif;}",".transparentBtn.jsx-598560783{display:block;padding:0;margin:-25px 30px 0 auto;background:transparent;border:none;outline:0;font-size:16px;font-weight:300;font-family:'Roboto',sans-serif;font-style:italic;-webkit-text-decoration-line:underline;text-decoration-line:underline;color:#707070;cursor:pointer;}",".hideBtn.jsx-598560783{margin-top:0;}",".stars.jsx-598560783{width:100px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".module.jsx-598560783{position:relative;margin-top:10px;padding-right:0;overflow:hidden;}",".module.jsx-598560783 p.jsx-598560783{margin-right:50px;font-size:18px;font-weight:300;font-family:'Roboto',sans-serif;color:#000000;}"]))});ReviewCard.displayName="ReviewCard",ReviewCard.__docgenInfo={description:"@param {string} logDate\n@param {string} logName\n@param {string} review\n@param {number} stars",methods:[],displayName:"ReviewCard"},__webpack_exports__.a=ReviewCard,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/ReviewCard/ReviewCard.js"]={name:"ReviewCard",docgenInfo:ReviewCard.__docgenInfo,path:"components/ReviewCard/ReviewCard.js"})},179:function(module,__webpack_exports__,__webpack_require__){"use strict";var style=__webpack_require__(3),style_default=__webpack_require__.n(style),react=__webpack_require__(0),react_default=__webpack_require__.n(react),hooks_useCatchOutsideClick=function useCatchOutsideClick(ref,onAction){Object(react.useEffect)((function(){var handleClickOutside=function handleClickOutside(event){ref.current&&!ref.current.contains(event.target)&&"buttonSettings"!==event.target.className&&onAction()};return document.addEventListener("mousedown",handleClickOutside),function(){document.removeEventListener("mousedown",handleClickOutside)}}),[ref,onAction])},ModalWrapper_ModalWrapper=(react_default.a.createElement,function ModalWrapper(_ref){var _ref$visible=_ref.visible,visible=void 0===_ref$visible||_ref$visible,children=_ref.children,onClose=_ref.onClose,_ref$isModal=_ref.isModal,isModal=void 0===_ref$isModal||_ref$isModal,wrapperRef=Object(react.useRef)(null);return hooks_useCatchOutsideClick(wrapperRef,onClose),visible?react_default.a.createElement("div",{className:"jsx-4132175662"},isModal?react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",{ref:wrapperRef,className:"jsx-4132175662 wrapper"},react_default.a.createElement("div",{className:"jsx-4132175662 content"},children)),react_default.a.createElement("div",{className:"jsx-4132175662 overlay"})):react_default.a.createElement("div",{ref:wrapperRef,className:"jsx-4132175662"},children),react_default.a.createElement(style_default.a,{id:"4132175662"},[".wrapper.jsx-4132175662{position:fixed;width:600px;max-width:100%;height:400px;max-height:100%;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);z-index:1010;}",".overlay.jsx-4132175662{background-color:rgba(0,0,0,0.2);position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;}",".content.jsx-4132175662{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:40px 20px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:100%;border-radius:10px;border:1px solid #e9e9e9;background-color:#ffffff;}"])):null});ModalWrapper_ModalWrapper.__docgenInfo={description:"@param {boolean} visible\n@param {boolean} isModal\n@param {ReactNode} children\n@param {function} onClose",methods:[],displayName:"ModalWrapper",props:{visible:{defaultValue:{value:"true",computed:!1},required:!1},isModal:{defaultValue:{value:"true",computed:!1},required:!1}}};__webpack_exports__.a=ModalWrapper_ModalWrapper;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/ModalWrapper/ModalWrapper.js"]={name:"ModalWrapper",docgenInfo:ModalWrapper_ModalWrapper.__docgenInfo,path:"components/ModalWrapper/ModalWrapper.js"})},180:function(module,__webpack_exports__,__webpack_require__){"use strict";var style=__webpack_require__(3),style_default=__webpack_require__.n(style),react=__webpack_require__(0),react_default=__webpack_require__.n(react),CustomSwitchCheckbox_CustomSwitchCheckbox=(react_default.a.createElement,function CustomSwitchCheckbox(_ref){var checked=_ref.checked,onChange=_ref.onChange;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",{onClick:onChange,className:"jsx-1002848648 toggleWrapper"},react_default.a.createElement("input",{type:"checkbox",name:"switchCheckbox",checked:checked,className:"jsx-1002848648 switchCheckbox"}),react_default.a.createElement("label",{htmlFor:"checkbox1",className:"jsx-1002848648 checkbox-label"})),react_default.a.createElement(style_default.a,{id:"1002848648"},["*.jsx-1002848648,*.jsx-1002848648:before,*.jsx-1002848648:after{box-sizing:border-box;margin:0;padding:0;-webkit-transition:0.25s ease-in-out;-moz-transition:0.25s ease-in-out;-o-transition:0.25s ease-in-out;-webkit-transition:0.25s ease-in-out;transition:0.25s ease-in-out;outline:none;font-family:Helvetica Neue,helvetica,arial,verdana,sans-serif;}",".toggleWrapper.jsx-1002848648{width:60px;height:24px;text-align:center;}",".switchCheckbox.jsx-1002848648,.switchCheckbox.jsx-1002848648:active{position:absolute;top:-5000px;height:0;width:0;opacity:0;border:none;outline:none;}",".checkbox-label.jsx-1002848648{display:block;position:relative;padding:10px;margin-bottom:20px;font-size:12px;line-height:16px;width:100%;height:24px;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;background:#9e9e9e;cursor:pointer;}",".checkbox-label.jsx-1002848648:before{content:'';display:block;position:absolute;z-index:1;line-height:34px;text-indent:40px;height:24px;width:24px;-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;top:0;left:0;right:auto;background:white;-webkit-box-shadow:0 0 0 2px transparent, 0 3px 3px rgba(0,0,0,0.3);-moz-box-shadow:0 0 0 2px transparent,0 1px 1px rgba(0,0,0,0.3);box-shadow:0 0 0 2px transparent,0 1px 1px rgba(0,0,0,0.3);}",".switchCheckbox.jsx-1002848648:checked+.checkbox-label.jsx-1002848648:before{left:calc(100% - 24px);-webkit-box-shadow:0 0 0 2px transparent, 0 3px 3px rgba(0,0,0,0.3);-moz-box-shadow:0 0 0 2px transparent,0 1px 1px rgba(0,0,0,0.3);box-shadow:0 0 0 2px transparent,0 1px 1px rgba(0,0,0,0.3);}",".switchCheckbox.jsx-1002848648:checked+.checkbox-label.jsx-1002848648{-webkit-box-shadow:inset 0 0 0 18px #931332,0 0 0 0 #931332;-moz-box-shadow:inset 0 0 0 18px #931332,0 0 0 0 #931332;box-shadow:inset 0 0 0 18px #931332,0 0 0 0 #931332;}"]))});CustomSwitchCheckbox_CustomSwitchCheckbox.__docgenInfo={description:"@param {boolean} checked\n@param {function} onChange",methods:[],displayName:"CustomSwitchCheckbox"};var components_CustomSwitchCheckbox_CustomSwitchCheckbox=CustomSwitchCheckbox_CustomSwitchCheckbox;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/CustomSwitchCheckbox/CustomSwitchCheckbox.js"]={name:"CustomSwitchCheckbox",docgenInfo:CustomSwitchCheckbox_CustomSwitchCheckbox.__docgenInfo,path:"components/CustomSwitchCheckbox/CustomSwitchCheckbox.js"});__webpack_exports__.a=components_CustomSwitchCheckbox_CustomSwitchCheckbox},181:function(module,__webpack_exports__,__webpack_require__){"use strict";var style=__webpack_require__(3),style_default=__webpack_require__.n(style),react=(__webpack_require__(25),__webpack_require__(0)),react_default=__webpack_require__.n(react),api=__webpack_require__(42),throttle=(__webpack_require__(217),__webpack_require__(19),function throttle(func,delay){var timeout=null;return function(){for(var _this=this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];timeout||(timeout=setTimeout((function(){func.call.apply(func,[_this].concat(args)),timeout=null}),delay))}}),prefix=(react_default.a.createElement,Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:".",NEXT_PUBLIC_API:"http://77.234.215.138:18080",NEXT_PUBLIC_ACCESS_TOKEN:"123",FIREBASE_API_KEY:"AIzaSyCExaLzKWdhhr_1IRPe1NIFdR7Uor12LTI",FIREBASE_AUTH_DOMAIN:"testfire-1bc2f.firebaseapp.com",FIREBASE_DB_URL:"https://testfire-1bc2f.firebaseio.com",FIREBASE_PROJECT_ID:"testfire-1bc2f",FIREBASE_STORAGE_BUCKET:"testfire-1bc2f.appspot.com",FIREBASE_MESSAGING_SENDER_KEY:"243423113529",FIREBASE_APP_ID:"1:243423113529:web:d363f5aa8bf5ca297bf8e8"}).NEXT_PUBLIC_BASE_PATH||""),NOTIFICATION_TYPES_WINE_PRICE_UPDATED="WINE_PRICE_UPDATED",Notification_images=function images(type){switch(type){case NOTIFICATION_TYPES_WINE_PRICE_UPDATED:return"".concat(prefix,"/assets/notifications/liked.svg");default:return"".concat(prefix,"/assets/notifications/wineup.svg")}},Notification_Notification=function Notification(_ref){var id=_ref.id,isViewed=_ref.isViewed,wineId=_ref.wineId,message=_ref.message,date=_ref.date,type=_ref.type,refetch=_ref.refetch,notificationMessage=Object(react.useMemo)((function(){switch(type){case NOTIFICATION_TYPES_WINE_PRICE_UPDATED:return react_default.a.createElement("span",null,"Выбранный Вами ",react_default.a.createElement("b",null,"товар ",wineId)," теперь со скидкой! Спешите приобрести по выгодной цене!");default:return message}}),[type,message]);return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",{className:"jsx-799113482 "+"container ".concat(isViewed?"viewed":"unviewed")},react_default.a.createElement("div",{className:"jsx-799113482 notification"},react_default.a.createElement("img",{src:Notification_images(type),alt:"settings",className:"jsx-799113482 image"}),react_default.a.createElement("div",{className:"jsx-799113482"},react_default.a.createElement("p",{className:"jsx-799113482 text"},notificationMessage),react_default.a.createElement("p",{className:"jsx-799113482 time"},new Date(date).toLocaleString())),react_default.a.createElement("button",{id:id,type:"button",onClick:throttle((function deleteNotification(){api.a.deleteNotificationById(id).then((function(){refetch()}))}),500),className:"jsx-799113482 button"},react_default.a.createElement("img",{src:"".concat(prefix,"/assets/notifications/trash.svg"),alt:"settings",className:"jsx-799113482"})))),react_default.a.createElement(style_default.a,{id:"799113482"},[".notification.jsx-799113482{margin:0 5px;padding:10px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".read.jsx-799113482>.notification.jsx-799113482{padding-top:0;margin-bottom:10px;border-bottom:1px solid #9e9e9e;}",".viewed.jsx-799113482>.notification.jsx-799113482{padding-top:0;margin-bottom:10px;border-bottom:1px solid #9e9e9e;}",".unviewed.jsx-799113482>.notification.jsx-799113482{margin-bottom:10px;background-color:#f2f0f0;border-radius:2px;}",".image.jsx-799113482{width:41px;height:41px;margin-right:20px;}",".text.jsx-799113482{margin-right:20px;font-family:'PT Sans',sans-serif;font-size:14px;line-height:18px;color:#232323;}",".time.jsx-799113482{font-family:'PT Sans',sans-serif;font-size:14px;line-height:18px;color:#818181;}",".button.jsx-799113482{min-width:14px;min-height:18px;margin-left:auto;padding:0;outline:none;border:none;background-color:transparent;cursor:pointer;}"]))};Notification_Notification.__docgenInfo={description:"Элемент списка уведомлений\n@param {string} id\n@param {boolean} isViewed - Флаг прочитанного сообщения\n@param {string} message - Текст уведомления\n@param {string} wineId - название вина\n@param {string} date - Время создания уведомления\n@param {string} type - Тип уведомления\n@param {function} refetch - refetch уведомлений",methods:[],displayName:"Notification"};__webpack_exports__.a=Notification_Notification;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/Notification/Notification.js"]={name:"Notification",docgenInfo:Notification_Notification.__docgenInfo,path:"components/Notification/Notification.js"})},182:function(module,__webpack_exports__,__webpack_require__){"use strict";var slicedToArray=__webpack_require__(37),style=__webpack_require__(3),style_default=__webpack_require__.n(style),react=__webpack_require__(0),react_default=__webpack_require__.n(react),recoil=__webpack_require__(10),CustomFormButton=__webpack_require__(183),CustomSwitchCheckbox=__webpack_require__(180),store=__webpack_require__(50),api=__webpack_require__(42),helpers=__webpack_require__(235),NotificationTooltip_NotificationTooltip=(react_default.a.createElement,function NotificationTooltip(_ref){var notificationEnable=_ref.notificationEnable,onChange=_ref.onChange,currentUser=Object(recoil.g)(store.e),_useRecoilState=Object(recoil.f)(store.c),setNotifications=Object(slicedToArray.a)(_useRecoilState,2)[1],unreadNotificationsCount=Object(recoil.g)(store.d);return react_default.a.createElement("div",null,react_default.a.createElement("div",{className:"jsx-381381506 tooltipContainer"},react_default.a.createElement("div",{className:"jsx-381381506 tooltipContent"},react_default.a.createElement("div",{className:"jsx-381381506 switchWrapper"},react_default.a.createElement("div",{onClick:onChange,className:"jsx-381381506 switchLabel"},"Выключить уведомления"),react_default.a.createElement(CustomSwitchCheckbox.a,{checked:notificationEnable,onChange:onChange})),react_default.a.createElement("div",{className:"jsx-381381506 buttonFooter"},react_default.a.createElement(CustomFormButton.a,{backgroundColor:"#931332",width:"240px",height:"33px",padding:"5px 20px",fontSize:"14px",onClick:function handleDeleteAllNotifications(){currentUser&&api.a.deleteAllNotificationsByUserId(currentUser.id).then((function(){Object(helpers.a)(currentUser,setNotifications)}))},text:"Удалить все уведомления",disabled:!unreadNotificationsCount}))),react_default.a.createElement(style_default.a,{id:"381381506"},[".tooltipContainer.jsx-381381506{width:336px;height:132px;background-color:#f9f9f9;position:absolute;border:1px solid #9e9e9e;}",".tooltipContainer.jsx-381381506:before{content:'';width:0;height:0;position:absolute;top:-10px;right:24px;border-bottom:10px solid #f9f9f9;border-left:10px solid transparent;border-right:10px solid transparent;}",".tooltipContent.jsx-381381506{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:132px;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;}",".switchLabel.jsx-381381506{cursor:pointer;}",".switchWrapper.jsx-381381506{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:10px;color:black;font-size:18px;font-family:'PT Sans',sans-serif;}",".buttonFooter.jsx-381381506{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;}"])))});NotificationTooltip_NotificationTooltip.displayName="NotificationTooltip",NotificationTooltip_NotificationTooltip.__docgenInfo={description:"@param {boolean} notificationEnable\n@param {function} onChange",methods:[],displayName:"NotificationTooltip"};var components_NotificationTooltip_NotificationTooltip=NotificationTooltip_NotificationTooltip;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/NotificationTooltip/NotificationTooltip.js"]={name:"NotificationTooltip",docgenInfo:NotificationTooltip_NotificationTooltip.__docgenInfo,path:"components/NotificationTooltip/NotificationTooltip.js"});__webpack_exports__.a=components_NotificationTooltip_NotificationTooltip},183:function(module,__webpack_exports__,__webpack_require__){"use strict";var style=__webpack_require__(3),style_default=__webpack_require__.n(style),react=(__webpack_require__(19),__webpack_require__(0)),react_default=__webpack_require__.n(react),CustomFormButton_CustomFormButton=(react_default.a.createElement,function CustomFormButton(_ref){var _ref$width=_ref.width,width=void 0===_ref$width?"100%":_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?"58px":_ref$height,_ref$margin=_ref.margin,margin=void 0===_ref$margin?"0":_ref$margin,_ref$padding=_ref.padding,padding=void 0===_ref$padding?"0":_ref$padding,_ref$onClick=_ref.onClick,onClick=void 0===_ref$onClick?function(){}:_ref$onClick,text=_ref.text,_ref$fontWeight=_ref.fontWeight,fontWeight=void 0===_ref$fontWeight?400:_ref$fontWeight,_ref$fontSize=_ref.fontSize,fontSize=void 0===_ref$fontSize?"22px":_ref$fontSize,_ref$backgroundColor=_ref.backgroundColor,backgroundColor=void 0===_ref$backgroundColor?"#232323":_ref$backgroundColor,_ref$color=_ref.color,color=void 0===_ref$color?"white":_ref$color,_ref$backgroundOnHove=_ref.backgroundOnHover,backgroundOnHover=void 0===_ref$backgroundOnHove?"#af2f4e":_ref$backgroundOnHove,_ref$colorOnHover=_ref.colorOnHover,colorOnHover=void 0===_ref$colorOnHover?backgroundOnHover:_ref$colorOnHover,_ref$textColorOnHovеr=_ref.textColorOnHovеr,textColorOnHovеr=void 0===_ref$textColorOnHovеr?"#af2f4e":_ref$textColorOnHovеr,_ref$border=_ref.border,border=void 0===_ref$border?"none":_ref$border,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled;return react_default.a.createElement("button",{type:"button",onClick:onClick,disabled:disabled,className:style_default.a.dynamic([["953854770",[width,height,margin,padding,disabled?"#e9e9e9":backgroundColor,disabled?"white":color,fontSize,fontWeight,border,textColorOnHovеr,backgroundOnHover,disabled?"#e9e9e9":colorOnHover,disabled?"none":"0 0 8px rgba(253, 0, 0, 0.5)"]]])+" button"},text,react_default.a.createElement(style_default.a,{id:"953854770",dynamic:[width,height,margin,padding,disabled?"#e9e9e9":backgroundColor,disabled?"white":color,fontSize,fontWeight,border,textColorOnHovеr,backgroundOnHover,disabled?"#e9e9e9":colorOnHover,disabled?"none":"0 0 8px rgba(253, 0, 0, 0.5)"]},[".button.__jsx-style-dynamic-selector{width:".concat(width,";height:").concat(height,";margin:").concat(margin,";padding:").concat(padding,";background-color:").concat(disabled?"#e9e9e9":backgroundColor,";color:").concat(disabled?"white":color,";font-size:").concat(fontSize,";font-family:'PT Sans',sans-serif;font-weight:").concat(fontWeight,";border:").concat(border,";border-radius:50px;cursor:pointer;outline:none;-webkit-transition:0.2s;transition:0.2s;}"),".button.__jsx-style-dynamic-selector:hover{color:".concat(textColorOnHovеr,";background:").concat(backgroundOnHover,";background-color:").concat(disabled?"#e9e9e9":colorOnHover,";box-shadow:").concat(disabled?"none":"0 0 8px rgba(253, 0, 0, 0.5)",";}")]))});CustomFormButton_CustomFormButton.displayName="CustomFormButton",CustomFormButton_CustomFormButton.__docgenInfo={description:"@param {string} width\n@param {string} height\n@param {string} margin\n@param {string} padding\n@param {function} onClick\n@param {string} text\n@param {number} fontWeight\n@param {string} fontSize\n@param {string} backgroundColor\n@param {string} color\n@param {string} backgroundOnHover\n@param {string} colorOnHover\n@param {string} border\n@param {boolean} disabled",methods:[],displayName:"CustomFormButton",props:{width:{defaultValue:{value:"'100%'",computed:!1},required:!1},height:{defaultValue:{value:"'58px'",computed:!1},required:!1},margin:{defaultValue:{value:"'0'",computed:!1},required:!1},padding:{defaultValue:{value:"'0'",computed:!1},required:!1},onClick:{defaultValue:{value:"() => {}",computed:!1},required:!1},fontWeight:{defaultValue:{value:"400",computed:!1},required:!1},fontSize:{defaultValue:{value:"'22px'",computed:!1},required:!1},backgroundColor:{defaultValue:{value:"'#232323'",computed:!1},required:!1},color:{defaultValue:{value:"'white'",computed:!1},required:!1},backgroundOnHover:{defaultValue:{value:"'#af2f4e'",computed:!1},required:!1},colorOnHover:{defaultValue:{value:"backgroundOnHover",computed:!0},required:!1},"textColorOnHovеr":{defaultValue:{value:"'#af2f4e'",computed:!1},required:!1},border:{defaultValue:{value:"'none'",computed:!1},required:!1},disabled:{defaultValue:{value:"false",computed:!1},required:!1}}};var components_CustomFormButton_CustomFormButton=CustomFormButton_CustomFormButton;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/CustomFormButton/CustomFormButton.js"]={name:"CustomFormButton",docgenInfo:CustomFormButton_CustomFormButton.__docgenInfo,path:"components/CustomFormButton/CustomFormButton.js"});__webpack_exports__.a=components_CustomFormButton_CustomFormButton},234:function(module,__webpack_exports__,__webpack_require__){"use strict";var _ModalWrapper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(179);__webpack_exports__.a=_ModalWrapper__WEBPACK_IMPORTED_MODULE_0__.a},235:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return fetchNotifications}));__webpack_require__(46),__webpack_require__(47);var _api__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(42),fetchNotifications=function fetchNotifications(currentUser,setNotifications){currentUser&&_api__WEBPACK_IMPORTED_MODULE_2__.a.getNotificationsByUserId(currentUser.id).then((function(notifications){var preparedNotifications=function getPreparedNotifications(notifications){var viewedNotifications={type:"viewed",notifications:[]},unviewedNotifications={type:"unviewed",notifications:[]};return notifications.forEach((function(notification){notification.viewed?viewedNotifications.notifications.push(notification):unviewedNotifications.notifications.push(notification)})),[unviewedNotifications,viewedNotifications]}(notifications);setNotifications(preparedNotifications)}))}},237:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return winesState}));var _get2,_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(29),recoil__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__(74),__webpack_require__(73),__webpack_require__(12),__webpack_require__(19),__webpack_require__(77),__webpack_require__(89),__webpack_require__(5),__webpack_require__(10)),_api__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(42),winesState=Object(recoil__WEBPACK_IMPORTED_MODULE_9__.b)({key:"wines",default:[]}),winesSortState=Object(recoil__WEBPACK_IMPORTED_MODULE_9__.b)({key:"winesSort",default:"recommendations"}),winesPageState=Object(recoil__WEBPACK_IMPORTED_MODULE_9__.b)({key:"winesPage",default:{page:1,amount:12}}),formFiltersState=Object(recoil__WEBPACK_IMPORTED_MODULE_9__.b)({key:"formFilters",default:{priceFrom:0,priceTo:1e5,volume:[],color:[],sugar:[],sort:[],country:[],region:[],sparkling:[]}});Object(recoil__WEBPACK_IMPORTED_MODULE_9__.c)({key:"winesQuery",get:(_get2=Object(_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee(_ref){var _get,winePage,wineFilter,winesSort,filterBy,params,response;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _get=_ref.get,winePage=_get(winesPageState),wineFilter=_get(formFiltersState),winesSort=_get(winesSortState),filterBy=Object.keys(wineFilter).reduce((function(acc,el){if(0!==wineFilter[el]&&0!==wineFilter[el].length){if("priceFrom"===el)return acc.concat("price>".concat(wineFilter[el],";"));if("priceTo"===el)return acc.concat("".concat(acc.includes("price")?"*":"","price<").concat(wineFilter[el],";"));var filters=wineFilter[el].reduce((function(a,e){return a.concat("".concat(a.includes(el)?"~":"").concat(el,":").concat(e,";"))}),"");return acc.concat(filters)}return acc}),""),params=Object.assign({},winePage,{filterBy:filterBy}),["priceAsc","priceDesc"].includes(winesSort)&&(params.sortByPair="actual_price&".concat(winesSort.includes("Asc")?"asc":"desc")),_context.next=9,_api__WEBPACK_IMPORTED_MODULE_10__.a.getAllWines(params);case 9:return response=_context.sent,_context.abrupt("return",response);case 11:case"end":return _context.stop()}}),_callee)}))),function get(_x){return _get2.apply(this,arguments)})}),Object(recoil__WEBPACK_IMPORTED_MODULE_9__.b)({key:"sorts",default:[]})},42:function(module,__webpack_exports__,__webpack_require__){"use strict";var regenerator=__webpack_require__(9),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(29),classCallCheck=__webpack_require__(525),createClass=__webpack_require__(526),axios=(__webpack_require__(19),__webpack_require__(74),__webpack_require__(527)),axios_default=__webpack_require__.n(axios),api_Api=function(){function Api(){Object(classCallCheck.a)(this,Api),this.request=axios_default.a.create({baseURL:"http://77.234.215.138:18080"})}var _sendRequest,_patchProfile,_getProfile,_deleteCurrentUserNotificationToken,_addNotificationsTokenByUserId,_deleteAllNotificationsByUserId,_deleteNotificationById,_getNotificationsByUserId,_getFavoritesWinesByUserId,_getFavoritesWines,_deleteAllWinesFromFavorites,_deleteWineFromFavorites,_addWineToFavorites,_getWineById,_getAllWines,_refreshToken2,_registration,_login,_meLogin;return Object(createClass.a)(Api,[{key:"meLogin",value:(_meLogin=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(token){var response;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.sendRequest({url:"/user-service/users/me",method:"get",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(token)}});case 2:if(200===(response=_context.sent).status){_context.next=5;break}return _context.abrupt("return",{error:!0,message:"Ошибка авторизации"});case 5:return _context.abrupt("return",{error:!1,user:response.data});case 6:case"end":return _context.stop()}}),_callee,this)}))),function meLogin(_x){return _meLogin.apply(this,arguments)})},{key:"login",value:(_login=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(data){var response;return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.sendRequest({url:"/user-service/login",method:"POST",data:data,headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"123"}});case 2:if(200===(response=_context2.sent).status){_context2.next=5;break}return _context2.abrupt("return",{error:!0,message:"Ошибка авторизации"});case 5:return _context2.abrupt("return",{error:!1,user:response.data});case 6:case"end":return _context2.stop()}}),_callee2,this)}))),function login(_x2){return _login.apply(this,arguments)})},{key:"registration",value:(_registration=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee3(data){var response;return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,this.sendRequest({url:"/user-service/registration",method:"POST",data:data,headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"123"}});case 2:if(200===(response=_context3.sent).status){_context3.next=5;break}return _context3.abrupt("return",{error:!0,message:"Ошибка регистрации"});case 5:return _context3.abrupt("return",{error:!1,user:response.data});case 6:case"end":return _context3.stop()}}),_callee3,this)}))),function registration(_x3){return _registration.apply(this,arguments)})},{key:"refreshToken",value:(_refreshToken2=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee4(_refreshToken){var response;return regenerator_default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,this.sendRequest({url:"/user-service/refresh?refreshToken=".concat(_refreshToken),method:"POST",data:{},headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"123"}});case 2:if(200===(response=_context4.sent).status){_context4.next=5;break}return _context4.abrupt("return",{error:!0,message:"Ошибка получения данных профиля"});case 5:return _context4.abrupt("return",{error:!1,data:[response.data.accessToken,response.data.refreshToken]});case 6:case"end":return _context4.stop()}}),_callee4,this)}))),function refreshToken(_x4){return _refreshToken2.apply(this,arguments)})},{key:"getAllWines",value:(_getAllWines=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee5(data){var response;return regenerator_default.a.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,this.sendRequest({url:"/catalog-service/position/true/trueSettings",params:data,headers:{Authorization:"Bearer ".concat("123")}});case 2:if(200===(response=_context5.sent).status){_context5.next=5;break}throw new Error("Ошибка получения каталога вин");case 5:return _context5.abrupt("return",response.data);case 6:case"end":return _context5.stop()}}),_callee5,this)}))),function getAllWines(_x5){return _getAllWines.apply(this,arguments)})},{key:"getWineById",value:(_getWineById=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee6(id,token){var response;return regenerator_default.a.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,this.sendRequest({url:"/catalog-service/position/true/byId/".concat(id),method:"GET",data:{},headers:{accessToken:"123",Authorization:"Bearer ".concat(token)}});case 2:if(200===(response=_context6.sent).status){_context6.next=5;break}throw new Error("Ошибка получения винной позиции");case 5:return _context6.abrupt("return",response.data);case 6:case"end":return _context6.stop()}}),_callee6,this)}))),function getWineById(_x6,_x7){return _getWineById.apply(this,arguments)})},{key:"addWineToFavorites",value:(_addWineToFavorites=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee7(id,token){var response;return regenerator_default.a.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.next=2,this.sendRequest({url:"/user-service/favorites/".concat(id),method:"POST",data:{},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(token)}});case 2:if(200===(response=_context7.sent).status){_context7.next=5;break}throw new Error("Server Error");case 5:return _context7.abrupt("return",response.data);case 6:case"end":return _context7.stop()}}),_callee7,this)}))),function addWineToFavorites(_x8,_x9){return _addWineToFavorites.apply(this,arguments)})},{key:"deleteWineFromFavorites",value:(_deleteWineFromFavorites=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee8(id,token){var response;return regenerator_default.a.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.next=2,this.sendRequest({url:"/user-service/favorites/".concat(id),method:"DELETE",data:{},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(token)}});case 2:if(200===(response=_context8.sent).status){_context8.next=5;break}throw new Error("Server Error");case 5:return _context8.abrupt("return",response.data);case 6:case"end":return _context8.stop()}}),_callee8,this)}))),function deleteWineFromFavorites(_x10,_x11){return _deleteWineFromFavorites.apply(this,arguments)})},{key:"deleteAllWinesFromFavorites",value:(_deleteAllWinesFromFavorites=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee9(token){var response;return regenerator_default.a.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.next=2,this.sendRequest({url:"/user-service/favorites/clear",method:"DELETE",data:{},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(token)}});case 2:if(200===(response=_context9.sent).status){_context9.next=5;break}throw new Error("Server Error");case 5:return _context9.abrupt("return",response.data);case 6:case"end":return _context9.stop()}}),_callee9,this)}))),function deleteAllWinesFromFavorites(_x12){return _deleteAllWinesFromFavorites.apply(this,arguments)})},{key:"getFavoritesWines",value:(_getFavoritesWines=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee10(token){var response;return regenerator_default.a.wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return _context10.next=2,this.sendRequest({url:"/catalog-service/favorites/",method:"GET",data:{},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(token)}});case 2:if(200===(response=_context10.sent).status){_context10.next=5;break}return _context10.abrupt("return",response);case 5:return _context10.abrupt("return",response.data);case 6:case"end":return _context10.stop()}}),_callee10,this)}))),function getFavoritesWines(_x13){return _getFavoritesWines.apply(this,arguments)})},{key:"getFavoritesWinesByUserId",value:(_getFavoritesWinesByUserId=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee11(userId,token){var response;return regenerator_default.a.wrap((function _callee11$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return _context11.next=2,this.sendRequest({url:"/catalog-service/position/true/byId/".concat(userId),method:"GET",data:{},headers:{accessToken:"123","Content-Type":"application/json",Authorization:"Bearer ".concat(token)}});case 2:if(200===(response=_context11.sent).status){_context11.next=5;break}return _context11.abrupt("return",response);case 5:return _context11.abrupt("return",response.data);case 6:case"end":return _context11.stop()}}),_callee11,this)}))),function getFavoritesWinesByUserId(_x14,_x15){return _getFavoritesWinesByUserId.apply(this,arguments)})},{key:"getNotificationsByUserId",value:(_getNotificationsByUserId=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee12(userId){var response;return regenerator_default.a.wrap((function _callee12$(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return _context12.next=2,this.sendRequest({url:"/notification-service/notification/?userId=".concat(userId),method:"GET",headers:{accessToken:"123","Content-Type":"application/json"}});case 2:if(200===(response=_context12.sent).status){_context12.next=5;break}throw new Error("Server Error");case 5:return _context12.abrupt("return",response.data);case 6:case"end":return _context12.stop()}}),_callee12,this)}))),function getNotificationsByUserId(_x16){return _getNotificationsByUserId.apply(this,arguments)})},{key:"deleteNotificationById",value:(_deleteNotificationById=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee13(notificationId){var response;return regenerator_default.a.wrap((function _callee13$(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return _context13.next=2,this.sendRequest({url:"/notification-service/notification/".concat(notificationId),method:"DELETE",headers:{accessToken:"123","Content-Type":"application/json"}});case 2:if(200===(response=_context13.sent).status){_context13.next=5;break}throw new Error("Server Error");case 5:return _context13.abrupt("return",response.data);case 6:case"end":return _context13.stop()}}),_callee13,this)}))),function deleteNotificationById(_x17){return _deleteNotificationById.apply(this,arguments)})},{key:"deleteAllNotificationsByUserId",value:(_deleteAllNotificationsByUserId=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee14(userId){var response;return regenerator_default.a.wrap((function _callee14$(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:return _context14.next=2,this.sendRequest({url:"/notification-service/notification?userId=".concat(userId),method:"DELETE",headers:{accessToken:"123","Content-Type":"application/json"}});case 2:return 200!==(response=_context14.sent).status&&console.error("Server Error"),_context14.abrupt("return",response.data);case 5:case"end":return _context14.stop()}}),_callee14,this)}))),function deleteAllNotificationsByUserId(_x18){return _deleteAllNotificationsByUserId.apply(this,arguments)})},{key:"addNotificationsTokenByUserId",value:(_addNotificationsTokenByUserId=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee15(userId,token){var response;return regenerator_default.a.wrap((function _callee15$(_context15){for(;;)switch(_context15.prev=_context15.next){case 0:return _context15.next=2,this.sendRequest({url:"/user-service/notification_tokens/".concat(userId,"?token=").concat(token,"&tokenType=FCM_TOKEN"),method:"POST",headers:{accessToken:"123","Content-Type":"application/json"}});case 2:return 200!==(response=_context15.sent).status&&console.error("Server Error"),_context15.abrupt("return",response.data);case 5:case"end":return _context15.stop()}}),_callee15,this)}))),function addNotificationsTokenByUserId(_x19,_x20){return _addNotificationsTokenByUserId.apply(this,arguments)})},{key:"deleteCurrentUserNotificationToken",value:(_deleteCurrentUserNotificationToken=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee16(token){var response;return regenerator_default.a.wrap((function _callee16$(_context16){for(;;)switch(_context16.prev=_context16.next){case 0:return _context16.next=2,this.sendRequest({url:"/user-service/notification_tokens/?token=".concat(token),method:"DELETE",headers:{accessToken:"123","Content-Type":"application/json"}});case 2:return 200!==(response=_context16.sent).status&&console.error("Server Error"),_context16.abrupt("return",response.data);case 5:case"end":return _context16.stop()}}),_callee16,this)}))),function deleteCurrentUserNotificationToken(_x21){return _deleteCurrentUserNotificationToken.apply(this,arguments)})},{key:"getProfile",value:(_getProfile=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee17(accessToken){var response;return regenerator_default.a.wrap((function _callee17$(_context17){for(;;)switch(_context17.prev=_context17.next){case 0:return _context17.next=2,this.sendRequest({url:"/user-service/users/me",method:"GET",data:{},headers:{Authorization:"Bearer ".concat(accessToken)}});case 2:if(200===(response=_context17.sent).status){_context17.next=5;break}return _context17.abrupt("return",{error:!0,message:"Ошибка получения данных пользователя"});case 5:return _context17.abrupt("return",{error:!1,profile:response.data});case 6:case"end":return _context17.stop()}}),_callee17,this)}))),function getProfile(_x22){return _getProfile.apply(this,arguments)})},{key:"patchProfile",value:(_patchProfile=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee18(token,data){var response;return regenerator_default.a.wrap((function _callee18$(_context18){for(;;)switch(_context18.prev=_context18.next){case 0:return _context18.next=2,this.sendRequest({url:"/user-service/users/me",method:"PATCH",data:data,headers:{Authorization:"Bearer ".concat(token),"Content-Type":"application/json;charset=utf-8",accept:"*/*"}});case 2:if(200===(response=_context18.sent).status){_context18.next=5;break}return _context18.abrupt("return",{error:!0,message:"Не удалось обновить профиль"});case 5:return _context18.abrupt("return",{error:!1,data:response.data});case 6:case"end":return _context18.stop()}}),_callee18,this)}))),function patchProfile(_x23,_x24){return _patchProfile.apply(this,arguments)})},{key:"sendRequest",value:(_sendRequest=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee19(_ref){var url,method,data,headers,params,response;return regenerator_default.a.wrap((function _callee19$(_context19){for(;;)switch(_context19.prev=_context19.next){case 0:return url=_ref.url,method=_ref.method,data=_ref.data,headers=_ref.headers,params=_ref.params,_context19.prev=1,_context19.next=4,this.request({url:url,method:method,data:data,headers:headers,params:params});case 4:return response=_context19.sent,_context19.abrupt("return",response);case 8:return _context19.prev=8,_context19.t0=_context19.catch(1),_context19.abrupt("return",{error:!0,message:_context19.t0.message,data:_context19.t0.response.data});case 11:case"end":return _context19.stop()}}),_callee19,this,[[1,8]])}))),function sendRequest(_x25){return _sendRequest.apply(this,arguments)})}]),Api}();__webpack_exports__.a=new api_Api},50:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",(function(){return userState})),__webpack_require__.d(__webpack_exports__,"a",(function(){return errorState})),__webpack_require__.d(__webpack_exports__,"c",(function(){return notificationsState})),__webpack_require__.d(__webpack_exports__,"b",(function(){return notificationTokenState})),__webpack_require__.d(__webpack_exports__,"d",(function(){return unreadNotificationsCountState}));__webpack_require__(13),__webpack_require__(16),__webpack_require__(8),__webpack_require__(31),__webpack_require__(21),__webpack_require__(7),__webpack_require__(17),__webpack_require__(28),__webpack_require__(20),__webpack_require__(24),__webpack_require__(23);var recoil__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(10);function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var userState=Object(recoil__WEBPACK_IMPORTED_MODULE_11__.b)({key:"user",default:null}),errorState=Object(recoil__WEBPACK_IMPORTED_MODULE_11__.b)({key:"error",default:{error:!1,message:""}}),notificationTokenState=Object(recoil__WEBPACK_IMPORTED_MODULE_11__.b)({key:"notificationTokenState",default:null}),notificationsState=Object(recoil__WEBPACK_IMPORTED_MODULE_11__.b)({key:"notifications",default:[{type:"viewed",notifications:[]},{type:"unviewed",notifications:[]}]}),unreadNotificationsCountState=Object(recoil__WEBPACK_IMPORTED_MODULE_11__.c)({key:"unread-notifications-count",get:function get(_ref){var _step,_iterator=_createForOfIteratorHelper((0,_ref.get)(notificationsState));try{for(_iterator.s();!(_step=_iterator.n()).done;){var group=_step.value;if("unviewed"===group.type)return group.notifications.length}}catch(err){_iterator.e(err)}finally{_iterator.f()}return 0}})},531:function(module,exports,__webpack_require__){__webpack_require__(532),__webpack_require__(695),__webpack_require__(696),__webpack_require__(850),__webpack_require__(1068),__webpack_require__(1110),__webpack_require__(1115),__webpack_require__(1127),__webpack_require__(1129),__webpack_require__(1134),__webpack_require__(1136),module.exports=__webpack_require__(1144)},606:function(module,exports){},696:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(389)},81:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return emptyState})),__webpack_require__.d(__webpack_exports__,"d",(function(){return fetchedState})),__webpack_require__.d(__webpack_exports__,"a",(function(){return addWineQuery})),__webpack_require__.d(__webpack_exports__,"b",(function(){return deleteWineQuery})),__webpack_require__.d(__webpack_exports__,"e",(function(){return sortedFavoritesWinesState}));var regenerator=__webpack_require__(9),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(29),slicedToArray=__webpack_require__(37),recoil=(__webpack_require__(74),__webpack_require__(10)),api=(__webpack_require__(413),__webpack_require__(77),__webpack_require__(89),__webpack_require__(1201),__webpack_require__(13),__webpack_require__(19),__webpack_require__(73),__webpack_require__(8),__webpack_require__(42)),emptyState=Object(recoil.b)({key:"emptyState",default:!1}),fetchedState=Object(recoil.b)({key:"fetchedState",default:!1}),favoritesState=(Object(recoil.b)({key:"showClearState",default:!1}),Object(recoil.b)({key:"showClearSuccessState",default:!1}),Object(recoil.b)({key:"favorites",default:[]})),favoritesSortState=Object(recoil.b)({key:"favoritesSortState",default:"recommendations"}),addWineQuery=Object(recoil.d)({key:"addWineQuery",get:function get(_ref){var _ref2=Object(slicedToArray.a)(_ref,2),id=_ref2[0],token=_ref2[1];return Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,api.a.addWineToFavorites(id,token);case 2:case"end":return _context.stop()}}),_callee)})))}}),deleteWineQuery=Object(recoil.d)({key:"deleteWineQuery",get:function get(_ref4){var _ref5=Object(slicedToArray.a)(_ref4,2),id=_ref5[0],token=_ref5[1];return Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(){return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,api.a.deleteWineFromFavorites(id,token);case 2:case"end":return _context2.stop()}}),_callee2)})))}}),sortedFavoritesWinesState=(Object(recoil.d)({key:"deleteQuery",get:function get(token){return Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee3(){return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,api.a.deleteAllWinesFromFavorites(token);case 2:case"end":return _context3.stop()}}),_callee3)})))}}),Object(recoil.d)({key:"favoritesQuery",get:function get(token){return Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee4(){var response;return regenerator_default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,api.a.getFavoritesWines(token);case 2:return response=_context4.sent,_context4.abrupt("return",response);case 4:case"end":return _context4.stop()}}),_callee4)})))}}),Object(recoil.d)({key:"winesQuery",get:function get(userId){return Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee5(){var response;return regenerator_default.a.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,api.a.getFavoritesWinesByUserId(userId);case 2:return response=_context5.sent,_context5.abrupt("return",response);case 4:case"end":return _context5.stop()}}),_callee5)})))}}),Object(recoil.d)({key:"contentQuery",get:function get(token){return Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee6(){var response;return regenerator_default.a.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,api.a.getFavoritesWines(token);case 2:return response=_context6.sent,_context6.abrupt("return",response);case 4:case"end":return _context6.stop()}}),_callee6)})))}}),Object(recoil.c)({key:"filteredFavoritesListState",get:function get(_ref11){var _get=_ref11.get,list=_get(favoritesState);switch(_get(favoritesSortState)){case"priceAsc":return function sortAsc(wines){return JSON.parse(JSON.stringify(wines)).sort((function(wine1,wine2){return wine1.price?wine2.price?wine1.price>wine2.price?1:-1:wine1.price>wine2.actual_price?1:-1:wine2.price?wine1.actual_price>wine2.price?1:-1:wine1.actual_price===wine2.actual_price?0:wine1.actual_price>wine2.actual_price?1:-1}))}(list);case"priceDesc":return function sortDesc(wines){return JSON.parse(JSON.stringify(wines)).sort((function(wine1,wine2){return wine1.price?wine2.price?wine1.price<wine2.price?1:-1:wine1.price<wine2.actual_price?1:-1:wine2.price?wine1.actual_price<wine2.price?1:-1:wine1.actual_price===wine2.actual_price?0:wine1.actual_price<wine2.actual_price?1:-1}))}(list);default:return list}},set:function set(_ref12,newValue){return(0,_ref12.set)(favoritesState,newValue)}}));Object(recoil.b)({key:"sortsFavorites",default:[]})},91:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);__webpack_exports__.a=function useLocalStorage(key,initialValue){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)((function(){try{var item=window.localStorage.getItem(key);return item?JSON.parse(item):initialValue}catch(error){return initialValue}})),storedValue=_useState[0],setStoredValue=_useState[1];return[storedValue,function setValue(value){try{var valueToStore=value instanceof Function?value(storedValue):value;setStoredValue(valueToStore),window.localStorage.setItem(key,JSON.stringify(valueToStore))}catch(error){throw new Error("Error : ".concat(error))}}]}}},[[531,1,2]]]);
//# sourceMappingURL=main.2131c07b50bf3a91b5ea.bundle.js.map